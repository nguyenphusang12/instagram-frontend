(this["webpackJsonpsocial-project"]=this["webpackJsonpsocial-project"]||[]).push([[0],{103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(58),r=c.n(s),i=(c(71),c(72),c(73),c(7)),o=c(9),l=c(2),u=c.n(l),d=c(4),j=c(3),m=c(45),b=c(6),h=c.n(b),p="INSTAGRAM",f="https://sang-instagram-fake.herokuapp.com/api",O="ADD_POST",x="RELOAD_POST",v="LOAD_POST_FAILED",g="LOAD_POST_SUCCESS",k="DELETE_POST",N="UPDATE_POST",C="SET_AUTH",y="LOAD_ALL_POST_SUCCESS",I="LOAD_ALL_POST_FAILED",w=c(36),_=c(5),A=function(e,t){var c=t.type,n=t.payload;switch(c){case x:return Object(_.a)(Object(_.a)({},e),{},{postLoading:!0});case O:return Object(_.a)(Object(_.a)({},e),{},{posts:[n].concat(Object(w.a)(e.posts)),postLoading:!1});case g:return Object(_.a)(Object(_.a)({},e),{},{posts:n,postLoading:!1});case y:return Object(_.a)(Object(_.a)({},e),{},{postsAll:n,postAllLoading:!1});case I:return Object(_.a)(Object(_.a)({},e),{},{postsAll:[],postAllLoading:!1});case N:return Object(_.a)(Object(_.a)({},e),{},{posts:e.posts.map((function(e){return e._id===n._id?n:e})),postLoading:!1});case v:return Object(_.a)(Object(_.a)({},e),{},{posts:[],postLoading:!1});case k:return Object(_.a)(Object(_.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==n._id}))});default:return e}},E=function(){var e=Object(d.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("postImg",t),e.next=4,h.a.post("".concat(f,"/uploadfile"),c);case 4:return n=e.sent,e.abrupt("return",n.data.file.filename);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=E,L=function(e){h.a.delete("".concat(f,"/uploadfile/").concat(e))},M=c(0),H=Object(n.createContext)(),U=function(e){var t=e.children,c=Object(n.useReducer)(A,{post:null,posts:[],postLoading:!0,postsAll:[],postAllLoading:!0}),a=Object(j.a)(c,2),s=a[0],r=a[1],i=(s.posts,function(){var e=Object(d.a)(u.a.mark((function e(t){var c,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.file,e.prev=1,!c){e.next=7;break}return e.next=5,S(c);case 5:n=e.sent,t.file=n;case 7:return e.next=9,h.a.post("".concat(f,"/posts/create"),t);case 9:return(a=e.sent).data.success&&r({type:O,payload:a.data.post}),e.abrupt("return",a.data);case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",{message:"add post failes",success:!1});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()),o=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(f,"/posts"));case 3:(t=e.sent).data.success&&r({type:g,payload:t.data.posts}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:v});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(f,"/posts/all"));case 3:(t=e.sent).data.success&&r({type:y,payload:t.data.posts}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:I});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(t.file),e.next=4,h.a.delete("".concat(f,"/posts/").concat(t._id));case 4:return(c=e.sent).data.success&&r({type:k,payload:c.data.post}),e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{success:!1,message:"Can not delete!"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(u.a.mark((function e(t,c){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.file,e.prev=1,!n){e.next=8;break}return e.next=5,S(n);case 5:a=e.sent,L(t.file),c.file=a;case 8:return null===n&&(c.file=t.file),e.next=11,h.a.put("".concat(f,"/posts/").concat(t._id),c);case 11:(s=e.sent).data.success&&r({type:N,payload:s.data.post}),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,c){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/posts/like"),{postId:t});case 3:if(!(c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/posts/comment"),{postId:t.postId,infoUserComment:t.userComment});case 3:if(!(c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(f,"/posts/").concat(t));case 3:if(!(c=e.sent).data.success){e.next=6;break}return e.abrupt("return",c.data);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),w={postState:s,addPost:i,getPostById:C,postDelete:m,updatePost:b,likePost:p,getPosts:o,commentPost:x,getAllPosts:l,dispatch:r};return Object(M.jsx)(H.Provider,{value:w,children:t})},P=function(e,t){var c=t.type,n=t.payload,a=n.isAuthenticated,s=n.user;return c===C?Object(_.a)(Object(_.a)({},e),{},{authLoading:!1,isAuthenticated:a,user:s}):e},z=function(e){e?h.a.defaults.headers.common.Authorization="Baerer ".concat(e):delete h.a.defaults.headers.common.Authorization},B=Object(n.createContext)(),F=function(e){var t=e.children,c=Object(n.useReducer)(P,{isAuthenticated:!1,authLoading:!0,user:null}),a=Object(j.a)(c,2),s=a[0],r=a[1],i=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.INSTAGRAM&&z(localStorage.INSTAGRAM),e.prev=1,e.next=4,h.a.get("".concat(f,"/auth/"));case 4:(t=e.sent).data.success&&r({type:C,payload:{user:t.data.user,isAuthenticated:!0}}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),localStorage.removeItem(p),z(null),r({type:C,payload:{user:null,isAuthenticated:!1}});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return i()}),[]);var o=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/auth/login"),t);case 3:return(c=e.sent).data.success&&localStorage.setItem(p,c.data.accessToken),e.next=7,i();case 7:return e.abrupt("return",c.data);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response.data){e.next=16;break}return e.abrupt("return",e.t0.response.data);case 16:return e.abrupt("return",{success:!1,message:"Error"});case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/auth/register"),t);case 3:return(c=e.sent).data.success&&localStorage.setItem(p,c.data.accessToken),e.next=7,i();case 7:return e.abrupt("return",c.data);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response.data){e.next=16;break}return e.abrupt("return",e.t0.response.data);case 16:return e.abrupt("return",{message:e.t0.message,success:!1});case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(u.a.mark((function e(t,c){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"avt-default.jpg"!==c.avt){e.next=12;break}return e.next=4,S(t);case 4:return n=e.sent,e.next=7,h.a.put("".concat(f,"/auth/updateAvt"),{avt:n});case 7:if(!e.sent.data.success){e.next=11;break}return e.next=11,i();case 11:case 23:return e.abrupt("return");case 12:if("avt-default.jpg"===c.avt){e.next=24;break}return L(c.avt),e.next=16,S(t);case 16:return a=e.sent,e.next=19,h.a.put("".concat(f,"/auth/updateAvt"),{avt:a});case 19:if(!e.sent.data.success){e.next=23;break}return e.next=23,i();case 24:e.next=29;break;case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/auth/search"),{value:t});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(f,"/auth/").concat(t));case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/auth/addfriend"),{friendId:t});case 3:return(c=e.sent).data.success&&r({type:C,payload:{user:c.data.user,isAuthenticated:!0}}),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(f,"/auth/deletefriend"),{friendId:t});case 3:return(c=e.sent).data.success&&r({type:C,payload:{user:c.data.user,isAuthenticated:!0}}),e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{success:!1});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(f,"/auth/addfollow"),{username:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(f,"/auth/deletefollow"),{username:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={authState:s,login:o,register:l,logOut:function(){localStorage.removeItem(p),z(null),document.location.reload(),r({type:"SET_AUTH",payload:{user:null,isAuthenticated:!1}})},updatedAvt:m,searchFullName:b,getUserFr:O,addFriend:x,deleteFriend:v,addFollow:g,deleteFollow:k};return Object(M.jsx)(B.Provider,{value:N,children:t})},R=function(){return Object(n.useContext)(H)},T=function(){return Object(n.useContext)(B)},V=Object(n.createContext)(),D=function(e){var t=e.children,c=Object(n.useState)(""),a=Object(j.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(j.a)(i,2),l=(o[0],o[1],T().authState.user),b=Object(n.useRef)();Object(n.useEffect)((function(){b.current=Object(m.a)("https://sang-instagram-socket.herokuapp.com/"),b.current.emit("addUser",null===l||void 0===l?void 0:l._id),b.current.on("arrivalMessage",Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/inbox"!==window.location.pathname&&alert("C\xf3 tin nh\u1eafn");case 1:case"end":return e.stop()}}),e)}))))}),[l]);var h={active:s,setActive:r,socket:b};return Object(M.jsx)(V.Provider,{value:h,children:t})},J=c(22),K=(c(56),c(98),function(e){var t=e.info;return Object(M.jsx)("h1",{className:"auth-alert",children:t})}),Q=function(){var e=Object(n.useContext)(B).login,t=Object(n.useState)(null),c=Object(j.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)({username:"",password:""}),o=Object(j.a)(r,2),l=o[0],m=o[1],b=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(e){13===e.keyCode&&b.current.click()};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[]);var h=l.username,p=l.password,f=function(e){m(Object(_.a)(Object(_.a)({},l),{},Object(J.a)({},e.target.name,e.target.value)))},O=function(){var t=Object(d.a)(u.a.mark((function t(c){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(c);case 2:(n=t.sent).success||s(n.message);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"wrap-form",children:Object(M.jsxs)("div",{className:"auth-form",children:[Object(M.jsx)("div",{className:"logo-form"}),Object(M.jsx)("input",{type:"text",name:"username",className:"input-form",placeholder:"T\xean t\xe0i kho\u1ea3n",onChange:f,value:h}),Object(M.jsx)("input",{type:"password",className:"input-form",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:f,value:p}),Object(M.jsxs)("div",{children:[a&&Object(M.jsx)(K,{info:a}),Object(M.jsx)("button",{className:"form-button",ref:b,onClick:function(){return O(l)},children:"\u0110\u0103ng nh\u1eadp"}),Object(M.jsxs)("div",{className:"wrap-switch",children:[Object(M.jsx)("p",{className:"switch-text",children:"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n ?"}),Object(M.jsx)(i.b,{to:"/register",className:"switch-link",children:"\u0110\u0103ng k\xed"})]})]})]})})})},G=function(){var e=Object(n.useRef)(),t=Object(n.useContext)(B).register,c=Object(n.useState)(null),a=Object(j.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)({username:"",password:"",confirmPassword:"",fullName:""}),l=Object(j.a)(o,2),m=l[0],b=l[1],h=m.username,p=m.password,f=m.confirmPassword,O=m.fullName,x=function(e){b(Object(_.a)(Object(_.a)({},m),{},Object(J.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(d.a)(u.a.mark((function e(c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c);case 2:(n=e.sent).success||r(n.message);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var t=function(t){13===t.keyCode&&e.current.click()};return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[]),Object(M.jsx)("div",{className:"wrap-form",children:Object(M.jsxs)("div",{className:"auth-form",children:[Object(M.jsx)("div",{className:"logo-form"}),Object(M.jsx)("input",{type:"text",name:"username",className:"input-form",placeholder:"T\xean t\xe0i kho\u1ea3n",onChange:x,value:h}),Object(M.jsx)("input",{type:"text",name:"fullName",className:"input-form",placeholder:"T\xean ng\u01b0\u1eddi d\xf9ng",onChange:x,value:O}),Object(M.jsx)("input",{type:"password",className:"input-form",name:"password",placeholder:"M\u1eadt kh\u1ea9u",onChange:x,value:p}),Object(M.jsx)("input",{type:"password",className:"input-form",name:"confirmPassword",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",onChange:x,value:f}),Object(M.jsxs)("div",{children:[s&&Object(M.jsx)(K,{info:s}),Object(M.jsx)("button",{ref:e,className:"form-button",onClick:function(){return v(m)},children:"\u0110\u0103ng k\xed"}),Object(M.jsxs)("div",{className:"wrap-switch",children:[Object(M.jsx)("p",{className:"switch-text",children:"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n ?"}),Object(M.jsx)(i.b,{to:"/login",className:"switch-link",children:"\u0110\u0103ng nh\u1eadp"})]})]})]})})},W=(c(103),c.p+"static/media/842fe5699220.21a5f717.jpg"),q=(c(104),function(){return Object(M.jsx)("div",{className:"spinner"})}),Y=function(e){var t,c=e.route,a=Object(n.useContext)(B).authState,s=a.isAuthenticated,r=a.authLoading;return t=s?Object(M.jsx)(o.a,{to:"/"}):Object(M.jsxs)("div",{className:"container-auth",children:[Object(M.jsx)("div",{className:"auth-img",children:Object(M.jsx)("img",{src:W,alt:""})}),"login"===c&&Object(M.jsx)(Q,{}),"register"===c&&Object(M.jsx)(G,{})]}),r?Object(M.jsx)(q,{}):t},X=(c(105),c(106),function(e){var t,c=e.user;return t=c&&c.length>0?Object(M.jsx)("ul",{className:"list-user-search",children:c.map((function(e){return Object(M.jsx)("li",{className:"list-user-item",children:Object(M.jsxs)(i.b,{to:"/profile/".concat(e.username),className:"list-user-item-link",children:[Object(M.jsx)("img",{className:"list-user-item-img",src:"".concat(f,"/uploadfile/").concat(e.avt),alt:""}),Object(M.jsx)("h1",{className:"list-user-item-name",children:e.fullName})]})},e._id)}))}):Object(M.jsx)("div",{className:"header-search-history-content",children:Object(M.jsx)("p",{className:"header-search-history-text",children:"Kh\xf4ng c\xf3 n\u1ed9i dung t\xecm ki\u1ebfm m\u1edbi \u0111\xe2y"})}),Object(M.jsxs)("div",{className:"header-search-history",children:[Object(M.jsx)("div",{className:"header-search-history-tg"}),Object(M.jsx)("h1",{className:"header-search-history-title",children:"G\u1ea7n \u0111\xe2y"}),t]})}),Z=(c(107),c(108),function(){var e=Object(o.g)(),t=Object(n.useRef)(null),c=function(t){27===t.keyCode&&e.goBack()};return Object(n.useEffect)((function(){var n=function(c){null!==t.current&&(t.current.contains(c.target)||e.goBack())};return document.addEventListener("keyup",c),document.addEventListener("click",n),function(){document.removeEventListener("keyup",c),document.removeEventListener("click",n)}})),Object(M.jsx)("div",{className:"notification-header-wrap",children:Object(M.jsxs)("div",{className:"notification-header",ref:t,children:[Object(M.jsx)("h2",{className:"notification-title",children:"T\u1ea5t c\u1ea3 th\xf4ng b\xe1o"}),Object(M.jsx)("ul",{className:"notification-list",children:Object(M.jsx)("li",{className:"notification-item",children:Object(M.jsx)("h1",{children:"(Ch\u1ee9c n\u0103ng \u0111ang ph\xe1t tri\u1ec3n. Xin c\u1ea3m \u01a1n)"})})})]})})}),$=function(){var e=Object(o.h)(),t=Object(n.useContext)(V).active,c=Object(n.useState)(!1),a=Object(j.a)(c,2),s=a[0],r=a[1],l=Object(n.useContext)(B),u=l.logOut,d=l.authState.user,m=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&r(!1)},t=function(e){null!==m.current&&(m.current.contains(e.target)||r(!1))};return document.addEventListener("keyup",e),document.addEventListener("click",t),function(){document.removeEventListener("keyup",e),document.addEventListener("click",t)}}),[]),Object(M.jsx)("div",{className:"header-control",children:Object(M.jsxs)("ul",{className:"control-list",children:[Object(M.jsx)("li",{className:"control-item",children:Object(M.jsx)(i.b,{to:"/",className:"control-item-link",children:"home"===t?Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"})})})}),Object(M.jsx)("li",{className:"control-item",children:Object(M.jsx)(i.b,{to:"/inbox",className:"control-item-link",children:"inbox"===t?Object(M.jsx)("svg",{"aria-label":"Messenger",color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M10.2 29.8c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9L38 18.2c.7-1-.6-2.2-1.6-1.5L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.7 10.7zM24 1c13 0 23 9.5 23 22.3S37 45.6 24 45.6c-2.3 0-4.6-.3-6.7-.9-.4-.1-.8-.1-1.2.1l-4.6 2c-1.1.6-2.5-.3-2.5-1.6l-.1-4.1c0-.5-.2-1-.6-1.3C3.7 35.8 1 30 1 23.3 1 10.5 11 1 24 1z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M36.2 16.7L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.8 10.7c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9l6.8-10.7c.6-1.1-.7-2.2-1.7-1.5zM24 1C11 1 1 10.5 1 23.3 1 30 3.7 35.8 8.2 39.8c.4.3.6.8.6 1.3l.2 4.1c0 1 .9 1.8 1.8 1.8.2 0 .5 0 .7-.2l4.6-2c.2-.1.5-.2.7-.2.2 0 .3 0 .5.1 2.1.6 4.3.9 6.7.9 13 0 23-9.5 23-22.3S37 1 24 1zm0 41.6c-2 0-4-.3-5.9-.8-.4-.1-.8-.2-1.3-.2-.7 0-1.3.1-2 .4l-3 1.3V41c0-1.3-.6-2.5-1.6-3.4C6.2 34 4 28.9 4 23.3 4 12.3 12.6 4 24 4s20 8.3 20 19.3-8.6 19.3-20 19.3z"})})})}),Object(M.jsx)("li",{className:"control-item",children:Object(M.jsx)(i.b,{to:{pathname:"/create",state:{prevPathName1:e.pathname}},className:"control-item-link",children:"create"===t?Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M43.9 4c-2.5-2.4-5.5-4-12.2-4H16.2C9.6 0 6.6 1.6 4 4.1 1.6 6.6 0 9.6 0 16.2v15.5c0 6.6 1.6 9.7 4.1 12.2 2.5 2.4 5.5 4 12.2 4h15.5c6.6 0 9.7-1.6 12.2-4.1 2.4-2.5 4-5.5 4-12.2V16.2c0-6.6-1.6-9.6-4.1-12.2zm-7.6 21.5H25.5v10.8c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h10.8V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v10.8h10.8c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"})}):Object(M.jsxs)("svg",{color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:[Object(M.jsx)("path",{d:"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z"}),Object(M.jsx)("path",{d:"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z"}),Object(M.jsx)("path",{d:"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z"})]})})}),Object(M.jsx)("li",{className:"control-item",children:Object(M.jsx)(i.b,{to:"/explore",className:"control-item-link",children:"explore"===t?Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm12.2 13.8l-7 14.8c-.1.3-.4.6-.7.7l-14.8 7c-.2.1-.4.1-.6.1-.4 0-.8-.2-1.1-.4-.4-.4-.6-1.1-.3-1.7l7-14.8c.1-.3.4-.6.7-.7l14.8-7c.6-.3 1.3-.2 1.7.3.5.4.6 1.1.3 1.7zm-15 7.4l-5 10.5 10.5-5-5.5-5.5z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z"})})})}),Object(M.jsxs)("li",{className:"control-item",children:[Object(M.jsx)(i.b,{to:{pathname:"/nofification",state:{prevPathName2:e.pathname}},className:"control-item-link",children:"nofification"===t?Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"22",role:"img",viewBox:"0 0 48 48",width:"22",children:Object(M.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})}),"nofification"===t&&Object(M.jsx)(Z,{})]}),Object(M.jsx)("li",{className:"control-item",children:Object(M.jsxs)("div",{className:"control-item-link",children:[Object(M.jsx)("img",{onClick:function(){r(!s)},ref:m,src:"".concat(f,"/uploadfile/").concat(d.avt),alt:""}),s&&Object(M.jsxs)("ul",{className:"control-avt-dropdown",children:[Object(M.jsx)("li",{className:"control-avt-item",children:Object(M.jsxs)(i.b,{className:"control-avt-item-link",to:"/profile/".concat(d.username),children:[Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"16",viewBox:"0 0 32 32",width:"16",children:Object(M.jsx)("path",{d:"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})}),Object(M.jsx)("span",{className:"control-avt-item-text",children:"Trang c\xe1 nh\xe2n"})]})}),Object(M.jsx)("li",{className:"control-avt-item",children:Object(M.jsxs)(i.b,{className:"control-avt-item-link",to:"#",children:[Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"16",viewBox:"0 0 32 32",width:"16",children:Object(M.jsx)("path",{d:"M28.7 32c-.4 0-.8-.2-1.1-.4L16 19.9 4.4 31.6c-.4.4-1.1.6-1.6.3-.6-.2-.9-.8-.9-1.4v-29C1.8.7 2.5 0 3.3 0h25.4c.8 0 1.5.7 1.5 1.5v29c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM4.8 3v23.9l9.4-9.4c.9-.9 2.6-.9 3.5 0l9.4 9.4V3H4.8z"})}),Object(M.jsx)("span",{className:"control-avt-item-text",children:"\u0110\xe3 l\u01b0u"})]})}),Object(M.jsx)("li",{className:"control-avt-item",children:Object(M.jsxs)(i.b,{className:"control-avt-item-link",to:"#",children:[Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"16",viewBox:"0 0 32 32",width:"16",children:Object(M.jsx)("path",{d:"M31.2 13.4l-1.4-.7c-.1 0-.2-.1-.2-.2v-.2c-.3-1.1-.7-2.1-1.3-3.1v-.1l-.2-.1v-.3l.5-1.5c.2-.5 0-1.1-.4-1.5l-1.9-1.9c-.4-.4-1-.5-1.5-.4l-1.5.5H23l-.1-.1h-.1c-1-.5-2-1-3.1-1.3h-.2c-.1 0-.1-.1-.2-.2L18.6.9c-.2-.5-.7-.9-1.2-.9h-2.7c-.5 0-1 .3-1.3.8l-.7 1.4c0 .1-.1.2-.2.2h-.2c-1.1.3-2.1.7-3.1 1.3h-.1l-.1.2h-.3l-1.5-.5c-.5-.2-1.1 0-1.5.4L3.8 5.7c-.4.4-.5 1-.4 1.5l.5 1.5v.5c-.5 1-1 2-1.3 3.1v.2c0 .1-.1.1-.2.2l-1.4.7c-.6.2-1 .7-1 1.2v2.7c0 .5.3 1 .8 1.3l1.4.7c.1 0 .2.1.2.2v.2c.3 1.1.7 2.1 1.3 3.1v.1l.2.1v.3l-.5 1.5c-.2.5 0 1.1.4 1.5l1.9 1.9c.3.3.6.4 1 .4.2 0 .3 0 .5-.1l1.5-.5H9l.1.1h.1c1 .5 2 1 3.1 1.3h.2c.1 0 .1.1.2.2l.7 1.4c.2.5.7.8 1.3.8h2.7c.5 0 1-.3 1.3-.8l.7-1.4c0-.1.1-.2.2-.2h.2c1.1-.3 2.1-.7 3.1-1.3h.1l.1-.1h.3l1.5.5c.1 0 .3.1.5.1.4 0 .7-.1 1-.4l1.9-1.9c.4-.4.5-1 .4-1.5l-.5-1.5V23l.1-.1v-.1c.5-1 1-2 1.3-3.1v-.2c0-.1.1-.1.2-.2l1.4-.7c.5-.2.8-.7.8-1.3v-2.7c0-.5-.4-1-.8-1.2zM16 27.1c-6.1 0-11.1-5-11.1-11.1S9.9 4.9 16 4.9s11.1 5 11.1 11.1-5 11.1-11.1 11.1z"})}),Object(M.jsx)("span",{className:"control-avt-item-text",children:"C\xe0i \u0111\u1eb7t"})," "]})}),Object(M.jsx)("li",{className:"control-avt-item",children:Object(M.jsxs)(i.b,{className:"control-avt-item-link",to:"#",children:[Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:"16",viewBox:"0 0 32 32",width:"16",children:Object(M.jsx)("path",{d:"M10.3 10.7c0-.8-.7-1.5-1.5-1.5H4.9C7.2 5.4 11.4 3 16 3c3.6 0 7 1.5 9.5 4.1.5.6 1.5.6 2.1.1.6-.6.6-1.5.1-2.1-3-3.2-7.3-5-11.7-5C10.7 0 6 2.5 3 6.7V3.5C3 2.7 2.3 2 1.5 2S0 2.7 0 3.5v7.2c0 .8.7 1.5 1.5 1.5h7.3c.8 0 1.5-.6 1.5-1.5zm20.2 9.1h-7.2c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5h3.8C24.8 26.6 20.6 29 16 29c-3.6 0-7-1.5-9.5-4.1-.5-.6-1.5-.6-2.1-.1-.6.6-.6 1.5-.1 2.1 3 3.2 7.3 5 11.7 5 5.3 0 10-2.5 13-6.7v3.2c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-7.2c0-.8-.7-1.4-1.5-1.4z"})}),Object(M.jsx)("span",{className:"control-avt-item-text",children:"Chuy\u1ec3n t\xe0i kho\u1ea3n"})]})}),Object(M.jsx)("hr",{style:{borderColor:"rgba(133,125,125,0.04)"}}),Object(M.jsx)("li",{onClick:u,className:"control-avt-item",children:Object(M.jsx)("span",{className:"control-avt-item-text",children:"\u0110\u0103ng xu\u1ea5t"})})]})]})})]})})},ee=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(),r=Object(j.a)(s,2),o=r[0],l=r[1],m=Object(n.useContext)(B).searchFullName,b=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=function(e){null!==b.current&&(b.current.contains(e.target)||a(!1))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}));var h=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),""===t.target.value){e.next=8;break}return e.next=4,m(t.target.value);case 4:(c=e.sent).success&&l(c.user),e.next=9;break;case 8:l(null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsx)("div",{className:"container-header",children:Object(M.jsx)("div",{className:"grid wide",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col l12",children:Object(M.jsxs)("header",{className:"header",children:[Object(M.jsx)(i.b,{to:"/",className:"header-logo",children:Object(M.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=",alt:"logo"})}),Object(M.jsxs)("div",{className:"header-search",onClick:function(){a(!0)},onKeyUp:function(e){27===e.keyCode&&a(!1)},ref:b,children:[Object(M.jsx)("input",{type:"text",name:"",placeholder:"T\xecm ki\u1ebfm",className:"header-search__input",id:"",onChange:h}),c&&Object(M.jsx)(X,{user:o})]}),Object(M.jsx)($,{})]})})})})})},te=c(64),ce=c.n(te),ne=c(20),ae=c.n(ne),se=c(34),re=function(e){var t=e.data,c=e.index,a=e.last,s=e.them,r=e.toggleThem,i=Object(n.useState)(),o=Object(j.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!1),m=Object(j.a)(d,2),b=m[0],h=m[1],p=function(e){h(e)};return Object(n.useEffect)((function(){!a&&c%3===0||a&&c%3===0&&3===t.length||!a&&0===c?(u(Object(M.jsxs)("div",{className:Object(se.a)(ae.a.root,Object(J.a)({},ae.a.reverse,s.current)),children:[Object(M.jsx)("div",{className:ae.a.img_1,children:Object(M.jsx)("div",{className:ae.a.img_1_item,style:{backgroundImage:"url(".concat(f,"/uploadfile/").concat(t[0].file,")")},onClick:function(){return p(t[0])}})}),Object(M.jsxs)("div",{className:ae.a.img_2_3,children:[Object(M.jsx)("div",{className:ae.a.img_2,children:Object(M.jsx)("div",{className:ae.a.img_2_item,style:{backgroundImage:"url(".concat(f,"/uploadfile/").concat(t[1].file,")")},onClick:function(){return p(t[1])}})}),Object(M.jsx)("div",{className:ae.a.img_3,children:Object(M.jsx)("div",{className:ae.a.img_3_item,style:{backgroundImage:"url(".concat(f,"/uploadfile/").concat(t[2].file,")")},onClick:function(){return p(t[2])}})})]})]})),r()):u(Object(M.jsx)("div",{className:ae.a.root,children:t.map((function(e,t){return Object(M.jsx)("div",{className:ae.a.post,children:Object(M.jsx)("div",{className:ae.a.postImg,style:{backgroundImage:"url(".concat(f,"/uploadfile/").concat(e.file,")")},onClick:function(){return p(e)}})},t)}))}))}),[]),l?Object(M.jsxs)(M.Fragment,{children:[l,b&&Object(M.jsx)(he,{setModal:h,data:b})]}):Object(M.jsx)(q,{})},ie=(c(109),c(30)),oe=c.n(ie),le=c(8),ue=c.n(le),de=c(35),je=function(){var e=Object(o.h)(),t=Object(o.g)(),c=Object(n.useRef)(null),a=Object(n.useRef)(null),s=Object(n.useRef)(null),r=Object(n.useRef)(),i=Object(n.useState)(!1),l=Object(j.a)(i,2),m=l[0],b=l[1],h=Object(n.useState)(!1),p=Object(j.a)(h,2),O=p[0],x=p[1],v=Object(n.useState)(!1),g=Object(j.a)(v,2),k=g[0],N=g[1],C=Object(n.useState)(""),y=Object(j.a)(C,2),I=y[0],w=y[1],_=Object(n.useContext)(H).addPost,A=Object(n.useContext)(B).authState.user;Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&null!==c.current&&c.current.click()};document.addEventListener("keyup",e);return null!==s.current&&s.current.addEventListener("change",(function(e){var t=e.target.files[0],c=URL.createObjectURL(t);a.current.src=c,URL.revokeObjectURL(t),b("Ti\u1ebfp")})),function(){document.removeEventListener("keyup",e)}}));var E=function(){var e=Object(d.a)(u.a.mark((function e(c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ti\u1ebfp"===m&&(r.current.classList.add("add-edit"),b("Chia s\u1ebb")),"Chia s\u1ebb"!==m){e.next=8;break}return n={file:s.current.files[0],description:I},N(!0),e.next=6,_(n);case 6:N(!1),t.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){m?x(!0):(e.stopPropagation(),t.goBack())};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(we,{route:"create",routePrev:e.state.prevPathName1.length>1?e.state.prevPathName1.slice(1):e.state.prevPathName1}),Object(M.jsxs)("div",{className:"modal",children:[Object(M.jsx)("div",{className:"modal-overlay",onClick:S}),Object(M.jsxs)("div",{className:"modal-body",ref:r,children:[m?Object(M.jsxs)("div",{className:"modal-body-heard-active",children:[Object(M.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return x(!0)},children:Object(M.jsxs)("svg",{color:"#262626",fill:"#262626",height:24,viewBox:"0 0 24 24",width:24,children:[Object(M.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:"1.5",x1:"1.23",x2:"23.233",y1:"12.004",y2:"12.004"}),Object(M.jsx)("polyline",{fill:"none",points:"8.919 3.817 0.733 12.004 8.919 20.19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})}),Object(M.jsx)("span",{className:"modal-body-heard-title",children:"Ch\u1ec9nh s\u1eeda"}),Object(M.jsx)("span",{className:"modal-body-heard-next",onClick:E,children:m})]}):Object(M.jsxs)("div",{className:"modal-body-heard",children:[Object(M.jsx)("h1",{className:"modal-create-post-title",children:"T\u1ea1o b\xe0i vi\u1ebft m\u1edbi"}),Object(M.jsx)("hr",{style:{borderColor:"rgb(204 204 204 / 37%",borderWidth:"1px"}})]}),Object(M.jsxs)("div",{className:"modal-body-content ".concat(m?"":"active"),children:[Object(M.jsxs)("svg",{className:"modal-create-post-img",color:"#262626",fill:"#262626",height:77,viewBox:"0 0 97.6 77.3",width:96,children:[Object(M.jsx)("path",{d:"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z"}),Object(M.jsx)("path",{d:"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z"}),Object(M.jsx)("path",{d:"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z"})]}),Object(M.jsx)("label",{htmlFor:"file-avt",className:"modal-create-post-button",children:"Ch\u1ecdn t\u1eeb m\xe1y t\xednh"}),Object(M.jsx)("input",{type:"file",id:"file-avt",hidden:!0,accept:".png, .jpg, .gif",ref:s}),Object(M.jsx)("button",{className:"modal-close",ref:c,onClick:S,children:"close"})]}),Object(M.jsxs)("div",{className:"wrap-form-post",children:[Object(M.jsx)("div",{className:"img-preview ".concat(m?"active":""),children:Object(M.jsx)("img",{alt:"avt",src:"",ref:a})}),Object(M.jsxs)("div",{className:"form-post",children:[Object(M.jsxs)("div",{className:"user",children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadfile/").concat(A.avt),alt:"",className:"user-img"}),Object(M.jsx)("span",{className:"user-name",children:A.fullName})]}),Object(M.jsx)("textarea",{name:"description",id:"",className:"form-text",placeholder:"B\u1ea1n \u0111ang ngh\u0129 g\xec...",rows:"10",value:I,spellCheck:!1,onChange:function(e){w(e.target.value)}})]}),k&&Object(M.jsx)(q,{})]})]}),O&&Object(M.jsxs)("div",{className:"modal children",children:[Object(M.jsx)("div",{className:"modal-overlay"}),Object(M.jsx)("div",{className:"modal-body",children:Object(M.jsxs)("div",{className:"modal-body-cancel",children:[Object(M.jsxs)("div",{className:"modal-body-cancel-header",children:[Object(M.jsx)("h1",{children:"B\u1ecf b\xe0i vi\u1ebft"}),Object(M.jsx)("span",{children:"N\u1ebfu r\u1eddi \u0111i, b\u1ea1n s\u1ebd m\u1ea5t nh\u1eefng g\xec v\u1eeba ch\u1ec9nh s\u1eeda."})]}),Object(M.jsx)("button",{className:"cancel",onClick:function(e){e.stopPropagation(),t.goBack()},children:"B\u1ecf"}),Object(M.jsx)("button",{className:"no-cancel",onClick:function(){x(!1)},children:"H\u1ee7y"})]})})]})]})]})},me=function(e){var t,c,a=e.setActiveFalse,s=e.post,r=T().authState.user,i=Object(n.useContext)(H).updatePost,o=Object(n.useState)(!1),l=Object(j.a)(o,2),m=l[0],b=l[1],h=Object(n.useState)(!1),p=Object(j.a)(h,2),O=p[0],x=p[1],v=Object(n.useState)({description:s.description,file:null}),g=Object(j.a)(v,2),k=g[0],N=g[1],C=Object(n.useState)(!1),y=Object(j.a)(C,2),I=y[0],w=y[1],A=k.description,E=Object(n.useRef)(),S=Object(n.useRef)(),L=Object(n.useRef)(),U=Object(n.useContext)(H).postDelete;Object(n.useEffect)((function(){var e=function(e){E.current&&E.current.contains(e.target)&&(m||a(),m&&x(!0))};return k&&L.current&&L.current.focus(),document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}));var P=function(e){if("file"===e.target.name)return S.current.src=URL.createObjectURL(e.target.files[0]),URL.revokeObjectURL(e.target.files[0]),void N(Object(_.a)(Object(_.a)({},k),{},Object(J.a)({},e.target.name,e.target.files[0])));N(Object(_.a)(Object(_.a)({},k),{},Object(J.a)({},e.target.name,e.target.value)))},z=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,i(s,k);case 3:w(!1),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=m?Object(M.jsxs)("div",{className:"update-post-container",children:[Object(M.jsxs)("div",{className:"update-post-header",children:[Object(M.jsx)("button",{className:"update-post-btn",onClick:function(){return x(!0)},children:"H\u1ee7y"}),Object(M.jsx)("h1",{children:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft "}),Object(M.jsx)("button",{className:"update-post-btn",onClick:z,children:"Xong"})]}),Object(M.jsx)("textarea",{type:"text",value:A,name:"description",onChange:P,className:"update-post-text",rows:"4",spellCheck:!1,ref:L}),Object(M.jsxs)("div",{className:"update-post-form",children:[Object(M.jsx)("img",{className:"update-post-img",src:"".concat(f,"/uploadFile/").concat(s.file),alt:"",ref:S}),Object(M.jsxs)("div",{className:"update-post-label",children:[Object(M.jsx)("label",{className:"update-post-change-img",htmlFor:"img-update",children:"Thay \u0111\u1ed5i \u1ea3nh"}),Object(M.jsx)("input",{type:"file",hidden:!0,name:"file",id:"img-update",onChange:P})]})]}),I&&Object(M.jsx)(q,{}),O&&Object(M.jsxs)("div",{className:"modal modal-post-children",children:[Object(M.jsx)("div",{className:"modal-overlay"}),Object(M.jsx)("div",{className:"modal-body",children:Object(M.jsxs)("div",{className:"btn-cancel-edit",children:[Object(M.jsx)("h1",{className:"btn-cancel-title",children:"B\u1ea1n ch\u1eafc ch\u1eafc mu\u1ed1n h\u1ee7y b\u1ecf ch\u1ec9nh s\u1eeda"}),Object(M.jsxs)("div",{className:"displayFlex justifySpaceAround",children:[Object(M.jsx)("button",{className:"btn-item o5active",onClick:function(){b(!1),x(!1)},children:"\u0110\u1ed3ng \xfd"}),Object(M.jsx)("button",{className:"btn-item o5active",onClick:function(){return x(!1)},children:"H\u1ee7y"})]})]})})]})]}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("ul",{className:"modal-menu-list",children:[(null===r||void 0===r?void 0:r._id)===(null===(t=s.user)||void 0===t?void 0:t._id)?Object(M.jsx)("li",{className:"modal-menu-item",onClick:function(){U(s),a()},children:"X\xf3a b\xe0i vi\u1ebft"}):Object(M.jsx)("li",{className:"modal-menu-item disabled",children:"X\xf3a b\xe0i vi\u1ebft(Kh\xf4ng ph\u1ea3i ch\u1ee7 tus)"}),(null===r||void 0===r?void 0:r._id)===(null===(c=s.user)||void 0===c?void 0:c._id)?Object(M.jsx)("li",{className:"modal-menu-item",onClick:function(){return b(!0)},children:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft"}):Object(M.jsx)("li",{className:"modal-menu-item disabled",children:"Ch\u1ec9nh s\u1eeda b\xe0i vi\u1ebft(Kh\xf4ng ph\u1ea3i ch\u1ee7 tus)"}),Object(M.jsx)("li",{className:"modal-menu-item",onClick:a,children:"H\u1ee7y"})]})});return Object(M.jsxs)("div",{className:"modal",children:[Object(M.jsx)("div",{className:"modal-overlay",ref:E}),Object(M.jsx)("div",{className:"modal-body",children:B})]})},be=function(e){var t=e.userId,c=e.handleCreateMessage,a=e.setModalCreate,s=Object(n.useState)(null),r=Object(j.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(""),m=Object(j.a)(l,2),b=m[0],h=m[1],p=Object(n.useContext)(B).searchFullName,O=function(){var e=Object(d.a)(u.a.mark((function e(c){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(c.target.value),""===c.target.value){e.next=8;break}return e.next=4,p(b);case 4:(n=e.sent).success&&(a=n.user.filter((function(e){return e._id!==t})),o(a)),e.next=9;break;case 8:o(null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"modal",children:[Object(M.jsx)("div",{className:"modal-overlay"}),Object(M.jsx)("div",{className:"modal-body",children:Object(M.jsxs)("div",{className:oe.a.createMessages,children:[Object(M.jsx)("h2",{className:"create-message-title",children:"Tin nh\u1eafn m\u1edbi"}),Object(M.jsx)("input",{type:"text",placeholder:"T\xecm ki\u1ebfm b\u1ea1n b\xe8",className:oe.a.inputText,value:b,onChange:O}),Object(M.jsx)("div",{onClick:function(){return a(!1)},className:Object(se.a)(oe.a.iconCloseCreateMessage,"o5active"),children:Object(M.jsx)("i",{className:"far fa-times-circle"})}),null!==i&&Object(M.jsx)("ul",{className:oe.a.listfr,children:i.map((function(e,t){return Object(M.jsxs)("li",{onClick:function(){return c(e._id)},className:oe.a.itemFr,children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadFile/").concat(e.avt),className:oe.a.itemImg,alt:"xxx"}),Object(M.jsx)("h3",{className:oe.a.itemName,children:e.fullName})]},t)}))})]})})]})},he=function(e){var t=e.data,c=e.setModal,a=T().authState.user,s=Object(o.g)(),r=R(),i=r.likePost,l=r.commentPost,m=Object(n.useState)({status:t.likes.includes(a._id),numberLike:t.likes.length}),b=Object(j.a)(m,2),h=b[0],p=b[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),v=x[0],g=x[1],k=Object(n.useState)(t.comments.sort((function(e,t){return t.createdAt-e.createdAt}))),N=Object(j.a)(k,2),C=N[0],y=N[1],I=function(){s.push("/profile/".concat(t.user.username))},w=function(){var e=Object(d.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t._id);case 2:"add"===(c=e.sent).message&&p(Object(_.a)(Object(_.a)({},h),{},{status:!0,numberLike:h.numberLike+1})),"delete"===c.message&&p(Object(_.a)(Object(_.a)({},h),{},{status:!1,numberLike:h.numberLike-1}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==c.keyCode){e.next=6;break}if(!v){e.next=6;break}return e.next=4,l({postId:t._id,userComment:{fullName:t.user.fullName,username:t.user.username,avt:t.user.avt,textCommnet:v,createdAt:Date.now()}});case 4:(n=e.sent).success&&(g(""),y(n.comment.sort((function(e,t){return t.createdAt-e.createdAt}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(d.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=5;break}return e.next=3,l({postId:t._id,userComment:{fullName:t.user.fullName,username:t.user.username,avt:t.user.avt,textCommnet:v,createdAt:Date.now()}});case 3:(c=e.sent).success&&(g(""),y(c.comment.sort((function(e,t){return t.createdAt-e.createdAt}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(C),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"modal",children:[Object(M.jsx)("div",{className:"modal-overlay"}),Object(M.jsxs)("div",{className:"modal-body post-detail",children:[Object(M.jsx)("div",{className:ue.a.imgPost,children:Object(M.jsx)("img",{src:"".concat(f,"/uploadFile/").concat(t.file),alt:""})}),Object(M.jsxs)("div",{className:ue.a.infoPost,children:[Object(M.jsxs)("div",{className:ue.a.infoUser,children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadFile/").concat(t.user.avt),alt:"",onClick:I}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:ue.a.username,onClick:I,children:t.user.fullName}),Object(M.jsx)("div",{className:ue.a.timeUpload,children:Object(de.a)(t.createdAt)})]})]}),Object(M.jsx)("div",{className:ue.a.contentPost,children:t.description}),Object(M.jsxs)("div",{className:ue.a.boxStatus,children:[Object(M.jsxs)("span",{className:ue.a.boxStatus1,children:[h.numberLike," l\u01b0\u1ee3t th\xedch"]}),Object(M.jsxs)("span",{className:ue.a.boxStatus2,children:[C.length," b\xecnh lu\u1eadn"]})]}),Object(M.jsx)("div",{className:ue.a.formComment,children:Object(M.jsx)("input",{type:"text",placeholder:"Vi\u1ebft b\xecnh lu\u1eadn",value:v,onKeyUp:A,onChange:function(e){return g(e.target.value)}})}),Object(M.jsxs)("div",{className:ue.a.boxButton,children:[Object(M.jsx)("button",{className:Object(se.a)(ue.a.btnLike,Object(J.a)({},ue.a.likeActive,h.status)),onClick:w,children:"Th\xedch"}),Object(M.jsx)("button",{className:ue.a.btnLike,onClick:function(){E()},children:"B\xecnh lu\u1eadn"})]}),Object(M.jsx)("div",{className:ue.a.boxComment,children:null===C||void 0===C?void 0:C.map((function(e,t){return Object(M.jsxs)("div",{className:ue.a.commentItem,children:[Object(M.jsx)("div",{className:ue.a.avtUserComment,children:Object(M.jsx)("img",{src:"".concat(f,"/uploadFile/").concat(e.avt),alt:""})}),Object(M.jsxs)("div",{className:ue.a.infoUserComment,children:[Object(M.jsx)("span",{className:ue.a.nameUserComment,children:e.fullName}),Object(M.jsx)("p",{className:ue.a.textComment,children:e.textCommnet}),Object(M.jsx)("span",{className:ue.a.createAtCm,children:Object(de.a)(e.createdAt)})]})]},t)}))})]}),Object(M.jsx)("div",{className:Object(se.a)(ue.a.iconCancel,"o5active"),onClick:function(){c(!1)},children:Object(M.jsx)("i",{className:"far fa-times-circle"})})]})]})})},pe=function(){var e=R(),t=e.postState,c=t.postsAll,a=t.postAllLoading,s=e.getAllPosts,r=Object(n.useRef)([]),i=Object(n.useState)(),o=Object(j.a)(i,2),l=o[0],u=o[1];Object(n.useEffect)((function(){a&&s()}),[]);var d=Object(n.useRef)(!1),m=function(){d.current=!d.current};return Object(n.useEffect)((function(){!function(){if(3!==c.length)for(var e=0;e<c.length/3-1;e++)r.current.push([c[3*(e+1)-3],c[3*(e+1)-2],c[3*(e+1)-1]]);else r.current.push([c[0],c[1],c[2]]);c.length%3===1&&r.current.push([c[c.length-1]]),c.length%3===2&&r.current.push([c[c.length-2],c[c.length-1]]),u(r.current),r.current=[]}()}),[c]),console.log(l),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:ce.a.root,children:Object(M.jsx)("div",{className:"grid wide",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col l12",children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(M.jsx)(re,{data:e,index:t,last:t===l.length-1,them:d,toggleThem:m},t)}))})})})})})},fe=(c(110),c(111),function(e){var t=e.post,c=Object(n.useContext)(B).authState.user,a=R().commentPost,s=Object(n.useState)(!1),r=Object(j.a)(s,2),o=r[0],l=r[1],m=Object(n.useState)(!1),b=Object(j.a)(m,2),h=b[0],p=b[1],O=Object(n.useState)(""),x=Object(j.a)(O,2),v=x[0],g=x[1],k=Object(n.useState)(t.comments.sort((function(e,t){return t.createdAt-e.createdAt}))),N=Object(j.a)(k,2),C=N[0],y=N[1],I=Object(n.useState)({numberLike:t.likes.length,status:t.likes.includes(c._id)}),w=Object(j.a)(I,2),A=w[0],E=w[1],S=Object(n.useContext)(H).likePost,L=function(){var e=Object(d.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t._id);case 2:"add"===(c=e.sent).message&&E(Object(_.a)(Object(_.a)({},A),{},{status:!0,numberLike:A.numberLike+1})),"delete"===c.message&&E(Object(_.a)(Object(_.a)({},A),{},{status:!1,numberLike:A.numberLike-1}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(n){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==n.keyCode){e.next=6;break}if(!v){e.next=6;break}return e.next=4,a({postId:t._id,userComment:{fullName:c.fullName,username:c.username,avt:c.avt,textCommnet:v,createdAt:Date.now()}});case 4:(s=e.sent).success&&(g(""),y(s.comment.sort((function(e,t){return t.createdAt-e.createdAt}))),p(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)("div",{className:"post-item",children:[Object(M.jsxs)("div",{className:"post-item-wrap-info-caption",children:[Object(M.jsxs)("div",{className:"post-item-user",children:[Object(M.jsxs)("div",{className:"post-item-user-body",children:[Object(M.jsx)(i.b,{className:"post-item-user-link",to:"/profile/".concat(t.user.username),children:Object(M.jsx)("img",{src:"".concat(f,"/uploadfile/").concat(t.user.avt),alt:"",className:"post-item-user-avt"})}),Object(M.jsxs)("div",{className:"post-item-user-info",children:[Object(M.jsx)(i.b,{className:"post-item-user-link",to:"/profile/".concat(t.user.username),children:Object(M.jsx)("span",{className:"post-item-user-name",children:t.user.fullName})}),Object(M.jsx)("span",{className:"post-item-user-timeUpdatePost",children:Object(de.a)(t.createdAt)})]})]}),Object(M.jsxs)("div",{className:"post-item-icon-select",children:[Object(M.jsxs)("svg",{color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",onClick:function(){return l(!0)},children:[Object(M.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),Object(M.jsx)("circle",{cx:"6.5",cy:"12",r:"1.5"}),Object(M.jsx)("circle",{cx:"17.5",cy:"12",r:"1.5"})]}),o&&Object(M.jsx)(me,{setActiveFalse:function(){return l(!1)},post:t})]})]}),Object(M.jsx)("p",{className:"post-item-caption",children:t.description})]}),Object(M.jsx)("img",{alt:"post-img",className:"post-item-img",src:"".concat(f,"/uploadfile/").concat(t.file)}),Object(M.jsxs)("div",{className:"post-item-action",children:[Object(M.jsx)("div",{className:"post-item-action-like",onClick:L,children:A.status?Object(M.jsx)("svg",{color:"#ed4956",fill:"#ed4956",height:26,role:"img",viewBox:"0 0 48 48",width:26,children:Object(M.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:26,role:"img",viewBox:"0 0 48 48",width:26,children:Object(M.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})}),Object(M.jsx)("div",{className:"post-item-action-comment",onClick:function(){return p(!h)},children:Object(M.jsx)("svg",{color:"#262626",fill:"#262626",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:Object(M.jsx)("path",{clipRule:"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z",fillRule:"evenodd"})})})]}),Object(M.jsxs)("div",{className:"post-number-like-comment",children:[Object(M.jsxs)("h2",{className:"post-item-action-likeNumber",children:[A.numberLike," l\u01b0\u1ee3t th\xedch"]}),Object(M.jsxs)("h2",{className:"post-item-action-cmtNumber o5active",onClick:function(){return p(!h)},children:[C.length," b\xecnh lu\u1eadn"]})]}),Object(M.jsxs)("div",{className:"form-comment",children:[Object(M.jsx)("input",{type:"text",className:"form-input-comment",placeholder:"Vi\u1ebft b\xecnh lu\u1eadn",value:v,onChange:function(e){return g(e.target.value)},onKeyUp:U}),h&&Object(M.jsx)("ul",{className:"list-comment",children:C.map((function(e,t){return Object(M.jsxs)("li",{className:"item-comment",children:[Object(M.jsx)("div",{className:"item-img-user-comment",children:Object(M.jsxs)(i.b,{className:"item-name-user-link-info",to:"/profile/".concat(e.username),children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadfile/").concat(e.avt),alt:""})," "]})}),Object(M.jsxs)("div",{className:"item-info-user-commnet",children:[Object(M.jsx)(i.b,{className:"item-name-user-link-info",to:"/profile/".concat(e.username),children:Object(M.jsx)("h3",{className:"item-name-user-comment",children:e.fullName})}),Object(M.jsx)("p",{className:"item-text-comment",children:e.textCommnet}),Object(M.jsx)("span",{className:"item-text-timeComment",children:Object(de.a)(e.createdAt)})]})]},t)}))})]})]})}),Oe=function(){var e=R(),t=e.postState,c=t.posts,a=t.postLoading,s=e.getPosts;return Object(n.useEffect)((function(){a&&s()}),[]),a?Object(M.jsx)(q,{}):0===c.length?Object(M.jsx)("div",{className:"home-introduction",children:"Ch\xe0o m\u1eebng c\xe1c b\u1ea1n. H\xe3y t\u1ea1o b\xe0i vi\u1ebft \u0111\u1ea7u ti\xean"}):Object(M.jsx)("div",{className:"home-container",children:Object(M.jsx)("div",{className:"grid wide",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col l6 marginAuto",children:c.map((function(e,t){return Object(M.jsx)(fe,{post:e},t)}))})})})})},xe=(c(112),c(113),function(e){var t=e.conversation,c=e.userId,a=t.members.find((function(e){return e!==c})),s=Object(n.useState)(),r=Object(j.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(f,"/user?id=").concat(a));case 2:t=e.sent,o(t.data.user);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]),Object(M.jsx)("li",{className:"conversations-item",children:i&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("img",{src:i?"".concat(f,"/uploadfile/").concat(null===i||void 0===i?void 0:i.avt):"",alt:"",className:"conversations-item-img"}),Object(M.jsx)("div",{className:"conversations-item-content",children:Object(M.jsx)("div",{className:"conversations-item-name",children:null===i||void 0===i?void 0:i.fullName})})]})})}),ve=(c(114),function(e){var t=e.messages,c=e.test,a=Object(n.useContext)(B).authState.user,s=Object(n.useState)(),r=Object(j.a)(s,2),i=r[0],o=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.senderId===a._id){e.next=5;break}return e.next=3,h.a.get("".concat(f,"/user?id=").concat(t.senderId));case 3:(c=e.sent).data.success&&o(c.data.user);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(e(),c)&&(document.querySelector(".chat-concent-messages-item-send.last-message")||document.querySelector(".chat-concent-messages-item-get.last-message")).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[a._id,t]),Object(M.jsx)(M.Fragment,{children:t.senderId===a._id?Object(M.jsx)("div",{className:"chat-concent-messages-item-send ".concat(c?"last-message":""),children:Object(M.jsxs)("div",{className:"chat-concent-messages-item-send-content",children:[Object(M.jsx)("div",{className:"chat-concent-messages-item-img-wrap",children:Object(M.jsx)("img",{className:"chat-concent-messages-item-img",src:"".concat(f,"/uploadfile/").concat(a.avt),alt:""})}),Object(M.jsx)("span",{className:"chat-concent-messages-item-text",children:t.text})]})}):Object(M.jsxs)("div",{className:"chat-concent-messages-item-get ".concat(c?"last-message":""),children:[Object(M.jsx)("div",{className:"chat-concent-messages-item-img-wrap",children:Object(M.jsx)("img",{className:"chat-concent-messages-item-img",src:i&&"".concat(f,"/uploadfile/").concat(null===i||void 0===i?void 0:i.avt),alt:""})}),Object(M.jsx)("span",{className:"chat-concent-messages-item-text",children:t.text})]})})}),ge=c(65),ke=function(e){var t=e.id,c=Object(n.useRef)(),a=Object(n.useRef)(),s=Object(n.useRef)(),r=Object(n.useRef)(),o=Object(n.useRef)([]),l=Object(n.useContext)(B).authState.user,m=Object(n.useContext)(V).socket,b=Object(n.useState)(null),p=Object(j.a)(b,2),O=p[0],x=p[1],v=Object(n.useState)([]),g=Object(j.a)(v,2),k=g[0],N=g[1],C=Object(n.useState)(),y=Object(j.a)(C,2),I=y[0],_=y[1],A=Object(n.useState)(),E=Object(j.a)(A,2),S=E[0],L=E[1],H=Object(n.useState)(),U=Object(j.a)(H,2),P=U[0],z=U[1],F=Object(n.useState)(),R=Object(j.a)(F,2),T=R[0],D=R[1],J=Object(n.useState)(),K=Object(j.a)(J,2),Q=K[0],G=K[1],W=Object(n.useState)(!1),q=Object(j.a)(W,2),Y=q[0],X=q[1],Z=Object(n.useState)(!1),$=Object(j.a)(Z,2),ee=$[0],te=($[1],function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(f,"/messenger/conversations/").concat(l._id));case 2:(t=e.sent).data.success&&t.data.conversation.forEach((function(e){return o.current.push(e.members[0]===l._id?e.members[1]:e.members[0])})),x(t.data.conversation);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){m.current.emit("addUser",null===l||void 0===l?void 0:l._id),m.current.on("arrivalMessage",function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.messages,console.log("co chay k "),D(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){T&&(S===T.conversationId?N([].concat(Object(w.a)(k),[T])):te())}),[T]),Object(n.useEffect)((function(){te()}),[ee]),Object(n.useEffect)((function(){t&&O&&ae(t)}),[O]),Object(n.useEffect)((function(){var e=function(e){13===e.keyCode&&(e.preventDefault(),s.current.click())},t=r.current;return null===t||void 0===t||t.addEventListener("keydown",e),function(){null===t||void 0===t||t.removeEventListener("keydown",e)}}),[k]);var ce=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("".concat(f,"/messenger/messages"),{senderId:l._id,text:P,conversationId:c.current});case 2:return t=e.sent,e.next=5,h.a.post("".concat(f,"/messenger/addnew"),{conversationId:S,idNew:I._id});case 5:return e.next=7,m.current.emit("sendMessage",{recevierId:Q.find((function(e){return e!==l._id})),messages:t.data.messages});case 7:N([].concat(Object(w.a)(k),[t.data.messages])),z(""),r.current.focus();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat(f,"/messenger/messages/").concat(t._id));case 2:if(n=e.sent,!t.new){e.next=7;break}return e.next=6,h.a.delete("".concat(f,"/messenger/removeNew/").concat(t._id));case 6:te();case 7:return G(null===t||void 0===t?void 0:t.members),L(t._id),c.current=null===t||void 0===t?void 0:t._id,a=null===t||void 0===t?void 0:t.members.find((function(e){return e!==l._id})),e.next=13,h.a.get("".concat(f,"/user/?id=").concat(a));case 13:s=e.sent,_(s.data.user),N(n.data.messages);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(d.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current.includes(t)){e.next=8;break}return X(!1),e.next=4,O.find((function(e){return e.members.includes(t)}));case 4:c=e.sent,ne(c),e.next=12;break;case 8:return e.next=10,h.a.post("".concat(f,"/messenger/conversation/"),{member1:t,member2:l._id,new:""});case 10:(n=e.sent).data.success&&(X(!1),o.current.push(n.data.conversation.members[0]===l._id?n.data.conversation.members[1]:n.data.conversation.members[0]),x([].concat(Object(w.a)(O),[n.data.conversation])),ne(n.data.conversation));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"section-inbox-wrap",children:Object(M.jsx)("div",{className:"grid wide",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col l12",children:Object(M.jsxs)("div",{className:"section-inbox",children:[Object(M.jsxs)("div",{className:"conversations",children:[Object(M.jsxs)("div",{className:"conversations-header",children:[Object(M.jsx)("h2",{className:"conversations-header-text",children:"Tin nh\u1eafn"}),Object(M.jsx)("div",{className:"conversations-header-icon o5active",onClick:function(){return X(!0)},children:Object(M.jsx)("i",{className:"fas fa-plus-circle"})})]}),Object(M.jsx)("ul",{className:"conversations-list",children:O&&O.map((function(e,t){return Object(M.jsxs)("div",{className:"conversations-item-wrap ".concat(S===e._id&&"active"," ").concat(l._id===e.new&&"newMess"),onClick:function(){return ne(e)},children:[Object(M.jsx)(xe,{conversation:e,userId:l._id}),Object(M.jsx)("span",{children:"Tin nh\u1eafn m\u1edbi"})]},e._id)}))})]}),Q?Object(M.jsxs)("div",{className:"chat-concent",children:[Object(M.jsx)("div",{className:"chat-content-user",children:Object(M.jsxs)(i.b,{to:"/profile/".concat(null===I||void 0===I?void 0:I.username),className:"chat-content-link",children:[Object(M.jsx)("img",{className:"chat-content-user-img",src:I?"".concat(f,"/uploadfile/").concat(I.avt):"",alt:""}),Object(M.jsx)("span",{className:"chat-content-user-name",children:I&&I.fullName})]})}),Object(M.jsx)("div",{className:"chat-concent-messages",ref:a,children:null===k||void 0===k?void 0:k.map((function(e,t){return t===k.length-1?Object(M.jsx)(ve,{test:!0,messages:e},t):Object(M.jsx)(ve,{messages:e},t)}))}),Object(M.jsxs)("div",{className:"form-messages",children:[Object(M.jsx)(ge.a,{type:"text",name:"",id:"",className:"form-messages-input",maxRows:3,minRows:2,ref:r,value:P,onChange:function(e){z(e.target.value)},spellCheck:!1}),Object(M.jsx)("button",{onClick:ce,ref:s,className:"form-messages-btn o5active",children:"Send"})]})]}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"form-messages-no-messages",children:[Object(M.jsx)("span",{className:"form-messages-no-messages-icon"}),Object(M.jsxs)("h1",{className:"form-messages-no-messages-title o5active",onClick:function(){return X(!0)},children:["T\u1ea1o cu\u1ed9c tr\xf2 chuy\u1ec7n m\u1edbi"," "]})]})})]})})})})}),Y&&Object(M.jsx)(be,{handleCreateMessage:ae,setModalCreate:X,userId:l._id})]})},Ne=(c(115),function(e){var t=e.position,c=e.data,a=e.setModal,s=T().authState.user;return Object(n.useEffect)((function(){if(c){var e,n,a,s,r,i,o,l,u,d,j,m,b,h,p,f,O,x,v,g=document.querySelectorAll(".item-img"),k=document.querySelector(".item-img.activeUp"),N=document.querySelector(".item-img.prevUp"),C=document.querySelector(".item-img.nextUp"),y=document.querySelector(".item-img.nextOutUp"),I=document.querySelector(".item-img.prevOutUp");if(k&&k.classList.remove("activeUp"),N&&N.classList.remove("prevUp"),C&&C.classList.remove("nextUp"),y&&y.classList.remove("nextOutUp"),I&&I.classList.remove("prevOutUp"),t<=g.length-3&&t>=2)null===(e=g[t-2])||void 0===e||e.classList.add("prevOutUp"),null===(n=g[t-1])||void 0===n||n.classList.add("prevUp"),null===(a=g[t])||void 0===a||a.classList.add("activeUp"),null===(s=g[t+1])||void 0===s||s.classList.add("nextUp"),null===(r=g[t+2])||void 0===r||r.classList.add("nextOutUp");if(t===g.length-2)null===(i=g[t-2])||void 0===i||i.classList.add("prevOutUp"),null===(o=g[t-1])||void 0===o||o.classList.add("prevUp"),null===(l=g[t])||void 0===l||l.classList.add("activeUp"),null===(u=g[t+1])||void 0===u||u.classList.add("nextUp");if(t===g.length-1)null===(d=g[t-2])||void 0===d||d.classList.add("prevOutUp"),null===(j=g[t-1])||void 0===j||j.classList.add("prevUp"),null===(m=g[t])||void 0===m||m.classList.add("activeUp");if(0===t)null===(b=g[t])||void 0===b||b.classList.add("activeUp"),null===(h=g[t+1])||void 0===h||h.classList.add("nextUp"),null===(p=g[t+2])||void 0===p||p.classList.add("nextOutUp");if(1===t)null===(f=g[t-1])||void 0===f||f.classList.add("prevUp"),null===(O=g[t])||void 0===O||O.classList.add("activeUp"),null===(x=g[t+1])||void 0===x||x.classList.add("nextUp"),null===(v=g[t+2])||void 0===v||v.classList.add("nextOutUp")}}),[t,c]),Object(M.jsx)(M.Fragment,{children:null===c||void 0===c?void 0:c.map((function(e,t){return Object(M.jsxs)("li",{className:"item-img",children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadfile/").concat(e.file),alt:"..."}),Object(M.jsx)("div",{className:"item-info-wrap",onClick:function(){return a(e)},children:Object(M.jsxs)("div",{className:"item-info-posts",children:[Object(M.jsx)("span",{className:"item-info-like-number",children:e.likes.length}),Object(M.jsx)("span",{className:"item-info-like-icon",children:e.likes.includes(s._id)?Object(M.jsx)("svg",{color:"#ed4956",fill:"#ed4956",height:26,role:"img",viewBox:"0 0 48 48",width:26,children:Object(M.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):Object(M.jsx)("svg",{color:"#262626",fill:"#fff",height:26,role:"img",viewBox:"0 0 48 48",width:26,children:Object(M.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})}),Object(M.jsx)("span",{className:"item-info-comment-number",children:e.comments.length}),Object(M.jsx)("span",{className:"item-info-comment-icon",children:Object(M.jsx)("svg",{color:"#262626",fill:"#fff",height:24,role:"img",viewBox:"0 0 48 48",width:24,children:Object(M.jsx)("path",{clipRule:"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z",fillRule:"evenodd"})})})]})})]},t)}))})}),Ce=function(e){var t,c=e.username,a=Object(o.g)(),s=Object(n.useContext)(B),r=s.authState.user,i=s.updatedAvt,l=s.getUserFr,m=s.addFriend,b=s.deleteFriend,h=s.addFollow,p=s.deleteFollow,O=R(),v=O.dispatch,g=O.getPostById,k=Object(n.useRef)(),N=Object(n.useRef)(),C=Object(n.useState)({user:r,profileLoading:!1,isFriend:!1,following:r.friends.length,numberFollowers:r.followers.length,posts:null}),y=Object(j.a)(C,2),I=y[0],w=y[1],A=I.profileLoading,E=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c);case 2:m(I.user._id),v({type:x});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(c);case 2:b(I.user._id),v({type:x});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.username===c){e.next=10;break}return e.next=3,l(c);case 3:return t=e.sent,e.next=6,g(t.user._id);case 6:n=e.sent,t.success&&(r.friends.includes(t.user._id)?w(Object(_.a)(Object(_.a)({},I),{},{user:t.user,profileLoading:!0,isFriend:!0,following:t.user.friends.length,numberFollowers:t.user.followers.length,posts:n.posts})):w(Object(_.a)(Object(_.a)({},I),{},{user:t.user,profileLoading:!0,following:t.user.friends.length,isFriend:!1,numberFollowers:t.user.followers.length,posts:n.posts}))),e.next=14;break;case 10:return e.next=12,g(r._id);case 12:a=e.sent,w({user:r,profileLoading:!0,following:r.friends.length,isFriend:!1,numberFollowers:r.followers.length,posts:a.posts});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l,c,r]);var L=Object(n.useState)(0),H=Object(j.a)(L,2),U=H[0],P=H[1],z=Object(n.useState)(!1),F=Object(j.a)(z,2),T=F[0],V=F[1],D=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,i(N.current.files[0],r);case 3:document.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=Object(n.useState)(!1),K=Object(j.a)(J,2),Q=K[0],G=K[1],W=Object(M.jsxs)(M.Fragment,{children:[Q&&Object(M.jsx)(he,{setModal:G,data:Q}),Object(M.jsx)("div",{className:"profile-container",children:Object(M.jsxs)("div",{className:"grid wide",children:[Object(M.jsx)("div",{className:"row",children:Object(M.jsxs)("div",{className:"col l8 lo2 d-flex",children:[Object(M.jsxs)("label",{htmlFor:"uploadAvt",className:"profile-img",children:[Object(M.jsx)("img",{src:"".concat(f,"/uploadfile/").concat(I.user.avt),alt:"",ref:k}),r.username===c&&Object(M.jsx)("input",{type:"file",name:"",hidden:!0,id:"uploadAvt",onChange:function(e){var t=e.target.files[0],c=URL.createObjectURL(t);URL.revokeObjectURL(t),k.current.src=c,V(!0)},ref:N}),T&&Object(M.jsx)("button",{onClick:D,className:"uploadAvt-btn o5active",children:"Xong"})]}),Object(M.jsxs)("div",{className:"profile-info",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"profile-info-username",children:I.user.username}),Object(M.jsx)("button",{className:"btn-edit-profile",children:c===r.username?Object(M.jsx)("span",{className:"btn-edit-my-profile",children:"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n ( ch\u1ee9c n\u0103ng \u0111ang ph\xe1t tri\u1ec3n )"}):I.isFriend?Object(M.jsx)("span",{onClick:S,className:"btn-edit-fr-profile",children:"B\u1ecf theo d\xf5i"}):Object(M.jsx)("span",{className:"btn-edit-fr-profile",onClick:E,children:"Theo d\xf5i"})}),r.username!==c&&Object(M.jsx)("button",{className:"btn-edit-profile-mesages",onClick:function(){a.push("/inbox/".concat(I.user._id))},children:"Nh\u1eafn tin"})]}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("span",{children:[null===(t=I.posts)||void 0===t?void 0:t.length," b\xe0i vi\u1ebft"]}),Object(M.jsxs)("span",{children:[I.numberFollowers," ng\u01b0\u1eddi theo d\xf5i"]}),Object(M.jsxs)("span",{children:["\u0110ang theo d\xf5i ",I.following," ng\u01b0\u1eddi d\xf9ng"]})]}),Object(M.jsx)("h1",{className:"profile-info-fullName",children:I.user.fullName})]})]})}),Object(M.jsx)("div",{className:"slide-img",children:Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col l8 lo2",children:I.posts&&I.posts.length>0?Object(M.jsxs)("ul",{className:"list-img",children:[Object(M.jsx)(Ne,{position:U,data:null===I||void 0===I?void 0:I.posts,setModal:G}),Object(M.jsx)("button",{className:"btn-next-slide",onClick:function(){P((function(e){return e===(null===I||void 0===I?void 0:I.posts.length)-1?e:e+1}))},children:Object(M.jsx)("i",{className:"fas fa-arrow-circle-right"})}),Object(M.jsx)("button",{className:"btn-prev-slide",onClick:function(){P((function(e){return 0===e?e:e-1}))},children:Object(M.jsx)("i",{className:"fas fa-arrow-circle-left"})})]}):Object(M.jsx)("h1",{class:"profile-title-noPosts",children:"B\u1ea1n ch\u01b0a c\xf3 b\xe0i vi\u1ebft n\xe0o"})})})})]})})]});return A?W:Object(M.jsx)(q,{})},ye=Object(n.memo)(Ce),Ie=function(e){var t=e.route,c=e.routePrev,a=Object(n.useContext)(V).setActive,s=Object(o.h)(),r=Object(n.useRef)(0),i=Object(n.useRef)("");r.current=r.current+1;var l,u=Object(o.i)(),d=u.user,j=u.id;return Object(n.useEffect)((function(){a(t)})),void 0!==s.state&&s.state.prevPathName2&&(r.current<=2?(i.current=s.state.prevPathName2,l=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{}),"/"===s.state.prevPathName2&&Object(M.jsx)(Oe,{}),"/inbox"===s.state.prevPathName2&&Object(M.jsx)(ke,{}),"/explore"===s.state.prevPathName2&&Object(M.jsx)(pe,{})]})):l=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{}),("/"===i.current||"/nofification"===i.current)&&Object(M.jsx)(Oe,{}),"/inbox"===i.current&&Object(M.jsx)(ke,{}),"/explore"===i.current&&Object(M.jsx)(pe,{})]})),c&&"string"===typeof c&&(l=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{}),"/"===c&&Object(M.jsx)(Oe,{}),"inbox"===c&&Object(M.jsx)(ke,{}),"explore"===c&&Object(M.jsx)(pe,{})]})),c||s.state||(l=Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{}),"home"===t&&Object(M.jsx)(Oe,{}),"inbox"===t&&Object(M.jsx)(ke,{id:j}),"explore"===t&&Object(M.jsx)(pe,{}),!t&&Object(M.jsx)(ye,{username:d})]})),l},we=Object(n.memo)(Ie),_e=c(66),Ae=["component","route"],Ee=function(e){var t=e.component,c=e.route,a=Object(_e.a)(e,Ae),s=Object(n.useContext)(B).authState,r=s.isAuthenticated,i=s.authLoading;return Object(M.jsx)(o.b,Object(_.a)(Object(_.a)({},a),{},{render:function(){return r?Object(M.jsx)(t,{route:c}):i?Object(M.jsx)(q,{}):Object(M.jsx)(o.a,{to:"/login"})}}))};var Se=function(){return Object(M.jsx)(F,{children:Object(M.jsx)(U,{children:Object(M.jsx)(i.a,{children:Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.b,{exact:!0,path:"/login",render:function(){return Object(M.jsx)(Y,{route:"login"})}}),Object(M.jsx)(o.b,{exact:!0,path:"/register",render:function(){return Object(M.jsx)(Y,{route:"register"})}}),Object(M.jsxs)(D,{children:[Object(M.jsx)(Ee,{exact:!0,path:"/",route:"home",component:we}),Object(M.jsx)(Ee,{exact:!0,path:"/inbox",route:"inbox",component:we}),Object(M.jsx)(Ee,{exact:!0,path:"/inbox/:id",route:"inbox",component:we}),Object(M.jsx)(Ee,{exact:!0,path:"/explore",route:"explore",component:we}),Object(M.jsx)(Ee,{exact:!0,path:"/profile/:user",component:we}),Object(M.jsx)(Ee,{exact:!0,path:"/create",component:je}),Object(M.jsx)(Ee,{exact:!0,path:"/nofification",route:"nofification",component:we})]})]})})})})},Le=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,117)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(Se,{})}),document.getElementById("root")),Le()},20:function(e,t,c){e.exports={post:"PostLayoutItem_post__EmG50",postImg:"PostLayoutItem_postImg__20twt",img_2_item:"PostLayoutItem_img_2_item__2WmVb",img_3_item:"PostLayoutItem_img_3_item__3zRFP",img_1_item:"PostLayoutItem_img_1_item__2OABO",root:"PostLayoutItem_root__mBl90",img_1:"PostLayoutItem_img_1__IsmTt",img_2_3:"PostLayoutItem_img_2_3__2ThQH",img_2:"PostLayoutItem_img_2__S2a0Z",img_3:"PostLayoutItem_img_3__1NOT8",reverse:"PostLayoutItem_reverse__2S4R9"}},30:function(e,t,c){e.exports={inputText:"ModalCreateMessage_inputText__3ncV0",createMessages:"ModalCreateMessage_createMessages__3VKmB",iconCloseCreateMessage:"ModalCreateMessage_iconCloseCreateMessage__1csM4",listfr:"ModalCreateMessage_listfr__xGyD0",itemFr:"ModalCreateMessage_itemFr__1WiNh",itemImg:"ModalCreateMessage_itemImg__efCsW",itemName:"ModalCreateMessage_itemName__3gJEu"}},56:function(e,t,c){},64:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},8:function(e,t,c){e.exports={imgPost:"Modal_imgPost__3zZor",infoPost:"Modal_infoPost__3vMxe",infoUser:"Modal_infoUser___-ey7",username:"Modal_username__3q0Um",timeUpload:"Modal_timeUpload__3KkPt",contentPost:"Modal_contentPost__pii7j",boxButton:"Modal_boxButton__2P3mr",btnLike:"Modal_btnLike__QjBQK",boxStatus:"Modal_boxStatus__My9-L",boxStatus1:"Modal_boxStatus1__1NzN1",boxStatus2:"Modal_boxStatus2__3Y-qg",likeActive:"Modal_likeActive__1f7pz",iconCancel:"Modal_iconCancel__1C4pb",formComment:"Modal_formComment__101ZZ",boxComment:"Modal_boxComment__1jys3",commentItem:"Modal_commentItem__26Km2",avtUserComment:"Modal_avtUserComment__1wT8D",infoUserComment:"Modal_infoUserComment__1mIOa",nameUserComment:"Modal_nameUserComment__E-bHI",textComment:"Modal_textComment__3jPF5",createAtCm:"Modal_createAtCm__UlvVm"}},98:function(e,t,c){}},[[116,1,2]]]);
//# sourceMappingURL=main.87e29258.chunk.js.map