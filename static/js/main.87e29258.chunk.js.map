{"version":3,"sources":["contexts/constants.js","reducers/postsReducer.js","utils/uploadFile.js","utils/deleteFile.js","contexts/PostsContext.js","reducers/authReducer.js","utils/setAuthToken.js","contexts/AuthContext.js","contexts/hooks.js","contexts/HomeContext.js","components/alert/Alert.jsx","components/login/Login.jsx","components/register/Register.jsx","assets/img/842fe5699220.jpg","components/spinner/Spinner.jsx","view/auth/Auth.jsx","components/searchHistory/SearchHistory.jsx","components/notification/Notification.js","components/headerControl/HeaderControl.jsx","components/header/Header.jsx","assets/img/735145cfe0a4.png","components/postLayoutItem/PostLayoutItem.js","components/modals/Modal.js","components/explore/Explore.js","components/postItem/PostItem.jsx","components/home/Home.jsx","components/conversationsItem/ConversationsItem.jsx","components/messages/Messages.jsx","components/inbox/Inbox.jsx","components/itemImg/ItemImg.jsx","components/profile/Profile.jsx","view/page/Page.jsx","components/routing/ProtectedRoute.js","App.js","reportWebVitals.js","index.js","components/postLayoutItem/PostLayoutItem.module.css","components/modals/ModalCreateMessage.module.css","components/modals/Modal.module.css"],"names":["LOCAL_STORAGE_TOKEN_NAME","apiUrl","ADD_POST","RELOAD_POST","LOAD_POST_FAILED","LOAD_POST_SUCCESS","DELETE_POST","UPDATE_POST","SET_AUTH","LOAD_ALL_POST_SUCCESS","LOAD_ALL_POST_FAILED","postsReducer","state","actions","type","payload","postLoading","posts","postsAll","postAllLoading","map","post","_id","filter","uploadFile","file","a","formData","FormData","append","axios","resUploadFile","data","filename","deleteFile","fileName","delete","PostsContext","createContext","PostsContextProvider","children","useReducer","postState","dispatch","addPost","newFile","response","success","message","getPosts","get","getAllPosts","postDelete","updatePost","newPost","put","likePost","postId","res","console","log","commentPost","infoComment","infoUserComment","userComment","getPostById","userID","PostsContextData","Provider","value","authReducer","isAuthenticated","user","authLoading","setAuthToken","token","defaults","headers","common","AuthContext","AuthContextProvider","authState","loadUser","localStorage","removeItem","useEffect","login","loginForm","setItem","accessToken","register","registerForm","updatedAvt","avt","avtNew","searchFullName","getUserFr","username","addFriend","friendId","deleteFriend","addFollow","deleteFollow","AuthContextData","logOut","document","location","reload","usePostsContext","useContext","useAuthContext","HomeContext","HomeContextProvider","useState","active","setActive","socket","useRef","current","io","emit","on","window","pathname","alert","HomeContextData","Alert","info","className","Login","setAlert","password","setValue","myRef","handleClick","e","keyCode","click","addEventListener","removeEventListener","handleChange","target","name","handleLogin","loginData","placeholder","onChange","ref","onClick","to","Register","confirmPassword","fullName","handleRegister","registerData","Spinner","Auth","container","route","src","img","alt","SearchHistory","body","length","Notification","history","useHistory","handleBack","goBack","contains","HeaderControl","useLocation","show","setShow","avtRef","handleShow","color","fill","height","role","viewBox","width","d","prevPathName1","prevPathName2","style","borderColor","Header","search","setSearch","handleClickOutSide","handleSearch","onKeyUp","id","PostLayoutItem","index","last","them","toggleThem","setBody","modal","setModal","handleClickPost","dataPost","clsx","root","reverse","img_1","img_1_item","backgroundImage","img_2_3","img_2","img_2_item","img_3","img_3_item","i","postImg","ModalCreatePost","preview","inputRef","bodyRef","edit","setEdit","spinner","setSpinner","description","setDescription","files","URL","createObjectURL","revokeObjectURL","handleAddText","classList","add","postForm","push","back","stopPropagation","routePrev","slice","cursor","stroke","strokeLinecap","strokeMiterlimit","strokeWidth","x1","x2","y1","y2","points","strokeLinejoin","borderWidth","htmlFor","hidden","accept","rows","spellCheck","ModalMenuPost","setActiveFalse","update","setUpdate","cancelUpdate","setCancelUpdate","valueUpdate","setValueUpdate","refBody","imgRef","textRef","focus","handleUpdate","ModalCreateMessage","userId","handleCreateMessage","setModalCreate","frs","setFrs","handleChangeInput","arrayFr","u","createMessages","inputText","iconCloseCreateMessage","listfr","f","itemFr","itemImg","itemName","ModalPostDetail","status","likes","includes","numberLike","like","setLike","comment","setComment","comments","sort","b","createdAt","setComments","handleToProfile","handleLikePost","handleComment","textCommnet","Date","now","handleComment2","style1","imgPost","infoPost","infoUser","timeUpload","format","contentPost","boxStatus","boxStatus1","boxStatus2","formComment","boxButton","btnLike","likeActive","boxComment","item","commentItem","avtUserComment","nameUserComment","textComment","createAtCm","iconCancel","Explore","arr3","arrPosts","setArrPosts","handleRenderPosts","p","PostItem","actionComment","setActionComment","valueComment","setValueComment","cx","cy","r","clipRule","fillRule","c","Home","ConversationsItem","conversation","userFr","members","find","m","setUser","getUser","Messages","messages","test","setUserFr","senderId","querySelector","scrollIntoView","behavior","block","inline","text","Inbox","conversationIdRef","chatConcentMessages","buttonRef","formMessagesInputRef","listFrInConversations","conversations","setConversations","currentChat","setCurrentChat","infoFriend","setInfoFriend","idConversationCurrent","setIdConversationCurrent","setMessage","arrivalMess","setArrivalMess","conversationCurrent","setConversationCurrent","modalCreate","actionConversation","getConversations","forEach","conversationId","handleKeyUp","preventDefault","handleSendMessage","idNew","recevierId","hanleClickConversation","new","friendInfo","currentConversation","member1","member2","maxRows","minRows","ItemImg","position","imgItemElement","querySelectorAll","activeUp","prevUp","nextUp","nextOutUp","prevOutUp","remove","Profile","profileLoading","isFriend","following","friends","numberFollowers","followers","userReplace","setUserReplace","handleAddFriend","handleDeleteFriend","n","setN","uploadAvt","setUploadAvt","handleUploadAvt","prev","class","memo","Page","checkNumber","checkLink","useParams","undefined","ProtectedRoute","Component","component","rest","render","App","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.87e29258.chunk.js","sourcesContent":["export const LOCAL_STORAGE_TOKEN_NAME = \"INSTAGRAM\";\nexport const apiUrl = \"https://sang-instagram-fake.herokuapp.com/api\";\nexport const ADD_POST = \"ADD_POST\";\nexport const RELOAD_POST = \"RELOAD_POST\";\nexport const LOAD_POST_FAILED = \"LOAD_POST_FAILED\";\nexport const LOAD_POST_SUCCESS = \"LOAD_POST_SUCCESS\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const SET_AUTH = \"SET_AUTH\";\nexport const LIKE_POST = \"LIKE_POST\";\nexport const DISLIKE_POST = \"DISLIKE_POST\";\nexport const LOAD_ALL_POST_SUCCESS = \"LOAD_ALL_POST_SUCCESS\";\nexport const LOAD_ALL_POST_FAILED = \"LOAD_ALL_POST_FAILED\";\n","import {\n  ADD_POST,\n  LOAD_POST_FAILED,\n  LOAD_POST_SUCCESS,\n  DELETE_POST,\n  UPDATE_POST,\n  LOAD_ALL_POST_SUCCESS,\n  LOAD_ALL_POST_FAILED,\n  RELOAD_POST,\n} from \"../contexts/constants\";\nexport const postsReducer = (state, actions) => {\n  const { type, payload } = actions;\n  switch (type) {\n    case RELOAD_POST:\n      return {\n        ...state,\n        postLoading: true,\n      };\n    case ADD_POST:\n      return {\n        ...state,\n        posts: [payload, ...state.posts],\n        postLoading: false,\n      };\n    case LOAD_POST_SUCCESS:\n      return {\n        ...state,\n        posts: payload,\n        postLoading: false,\n      };\n    case LOAD_ALL_POST_SUCCESS:\n      return {\n        ...state,\n        postsAll: payload,\n        postAllLoading: false,\n      };\n    case LOAD_ALL_POST_FAILED:\n      return {\n        ...state,\n        postsAll: [],\n        postAllLoading: false,\n      };\n    case UPDATE_POST:\n      return {\n        ...state,\n        posts: state.posts.map((post) =>\n          post._id === payload._id ? payload : post\n        ),\n        postLoading: false,\n      };\n    case LOAD_POST_FAILED:\n      return {\n        ...state,\n        posts: [],\n        postLoading: false,\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== payload._id),\n      };\n\n    default:\n      return state;\n  }\n};\n","import axios from \"axios\";\nimport { apiUrl } from \"../contexts/constants\";\nconst uploadFile = async (file) => {\n  const formData = new FormData();\n  formData.append(\"postImg\", file);\n  const resUploadFile = await axios.post(`${apiUrl}/uploadfile`, formData);\n  return resUploadFile.data.file.filename;\n};\nexport default uploadFile;\n","import axios from \"axios\";\nimport { apiUrl } from \"../contexts/constants\";\nconst deleteFile = (fileName) => {\n  axios.delete(`${apiUrl}/uploadfile/${fileName}`);\n};\nexport default deleteFile;\n","import { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport {\n  apiUrl,\n  ADD_POST,\n  LOAD_POST_FAILED,\n  LOAD_POST_SUCCESS,\n  DELETE_POST,\n  UPDATE_POST,\n  LOAD_ALL_POST_SUCCESS,\n  LOAD_ALL_POST_FAILED,\n} from \"./constants\";\nimport { postsReducer } from \"../reducers/postsReducer\";\nimport uploadFile from \"../utils/uploadFile\";\nimport deleteFile from \"../utils/deleteFile\";\n\nexport const PostsContext = createContext();\n\nconst PostsContextProvider = ({ children }) => {\n  const [postState, dispatch] = useReducer(postsReducer, {\n    post: null,\n    posts: [],\n    postLoading: true,\n    postsAll: [],\n    postAllLoading: true,\n  });\n\n  const { posts } = postState;\n  const addPost = async (post) => {\n    const { file } = post;\n\n    try {\n      if (file) {\n        const newFile = await uploadFile(file);\n        post.file = newFile;\n      }\n      const response = await axios.post(`${apiUrl}/posts/create`, post);\n      if (response.data.success) {\n        dispatch({ type: ADD_POST, payload: response.data.post });\n      }\n      return response.data;\n    } catch (error) {\n      return { message: \"add post failes\", success: false };\n    }\n  };\n  const getPosts = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/posts`);\n      if (response.data.success) {\n        dispatch({ type: LOAD_POST_SUCCESS, payload: response.data.posts });\n      }\n    } catch (error) {\n      dispatch({ type: LOAD_POST_FAILED });\n    }\n  };\n  const getAllPosts = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/posts/all`);\n      if (response.data.success) {\n        dispatch({ type: LOAD_ALL_POST_SUCCESS, payload: response.data.posts });\n      }\n    } catch (error) {\n      dispatch({ type: LOAD_ALL_POST_FAILED });\n    }\n  };\n\n  const postDelete = async (post) => {\n    try {\n      deleteFile(post.file);\n      const response = await axios.delete(`${apiUrl}/posts/${post._id}`);\n      if (response.data.success) {\n        dispatch({ type: DELETE_POST, payload: response.data.post });\n      }\n      return response.data;\n    } catch (error) {\n      return { success: false, message: \"Can not delete!\" };\n    }\n  };\n  const updatePost = async (post, newPost) => {\n    const { file } = newPost;\n\n    try {\n      if (file) {\n        const newFile = await uploadFile(file);\n        deleteFile(post.file);\n        newPost.file = newFile;\n      }\n      if (file === null) {\n        newPost.file = post.file;\n      }\n      const response = await axios.put(`${apiUrl}/posts/${post._id}`, newPost);\n      if (response.data.success) {\n        dispatch({ type: UPDATE_POST, payload: response.data.post });\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n  const likePost = async (postId) => {\n    try {\n      const res = await axios.post(`${apiUrl}/posts/like`, { postId });\n      if (res.data.success) {\n        return res.data;\n      }\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const commentPost = async (infoComment) => {\n    try {\n      const res = await axios.post(`${apiUrl}/posts/comment`, {\n        postId: infoComment.postId,\n        infoUserComment: infoComment.userComment,\n      });\n      if (res.data.success) {\n        return res.data;\n      }\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n  const getPostById = async (userID) => {\n    try {\n      const res = await axios.get(`${apiUrl}/posts/${userID}`);\n      if (res.data.success) {\n        return res.data;\n      }\n    } catch (error) {\n      return { success: false };\n    }\n  };\n  const PostsContextData = {\n    postState,\n    addPost,\n    getPostById,\n    postDelete,\n    updatePost,\n    likePost,\n    getPosts,\n    commentPost,\n    getAllPosts,\n    dispatch,\n  };\n  return (\n    <PostsContext.Provider value={PostsContextData}>\n      {children}\n    </PostsContext.Provider>\n  );\n};\nexport default PostsContextProvider;\n","import { SET_AUTH } from \"../contexts/constants\";\n\nexport const authReducer = (state, actions) => {\n  const {\n    type,\n    payload: { isAuthenticated, user },\n  } = actions;\n  switch (type) {\n    case SET_AUTH:\n      return {\n        ...state,\n        authLoading: false,\n        isAuthenticated,\n        user,\n      };\n    default:\n      return state;\n  }\n};\n","import axios from \"axios\";\n\nconst setAuthToken = (token) => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = `Baerer ${token}`;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\nexport default setAuthToken;\n","import { createContext, useReducer, useEffect } from \"react\";\nimport { authReducer } from \"../reducers/authReducer\";\nimport axios from \"axios\";\nimport { LOCAL_STORAGE_TOKEN_NAME, apiUrl, SET_AUTH } from \"./constants\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport uploadFile from \"../utils/uploadFile\";\nimport deleteFile from \"../utils/deleteFile\";\n\nexport const AuthContext = createContext();\n\nconst AuthContextProvider = ({ children }) => {\n  const [authState, dispatch] = useReducer(authReducer, {\n    isAuthenticated: false,\n    authLoading: true,\n    user: null,\n  });\n  // load user\n  const loadUser = async () => {\n    if (localStorage[LOCAL_STORAGE_TOKEN_NAME]) {\n      setAuthToken(localStorage[LOCAL_STORAGE_TOKEN_NAME]);\n    }\n    try {\n      const response = await axios.get(`${apiUrl}/auth/`);\n\n      if (response.data.success) {\n        dispatch({\n          type: SET_AUTH,\n          payload: {\n            user: response.data.user,\n            isAuthenticated: true,\n          },\n        });\n      }\n    } catch (error) {\n      localStorage.removeItem(LOCAL_STORAGE_TOKEN_NAME);\n      setAuthToken(null);\n      dispatch({\n        type: SET_AUTH,\n        payload: {\n          user: null,\n          isAuthenticated: false,\n        },\n      });\n    }\n  };\n\n  useEffect(() => loadUser(), []);\n\n  //login\n  const login = async (loginForm) => {\n    try {\n      const response = await axios.post(`${apiUrl}/auth/login`, loginForm);\n      if (response.data.success) {\n        localStorage.setItem(\n          LOCAL_STORAGE_TOKEN_NAME,\n          response.data.accessToken\n        );\n      }\n      // document.location.reload();\n      await loadUser();\n      return response.data;\n    } catch (error) {\n      if (error.response.data) return error.response.data;\n      else return { success: false, message: \"Error\" };\n    }\n  };\n\n  //log out\n  const logOut = () => {\n    localStorage.removeItem(LOCAL_STORAGE_TOKEN_NAME);\n    setAuthToken(null);\n    document.location.reload();\n    dispatch({\n      type: \"SET_AUTH\",\n      payload: {\n        user: null,\n        isAuthenticated: false,\n      },\n    });\n  };\n  //register\n  const register = async (registerForm) => {\n    try {\n      const response = await axios.post(\n        `${apiUrl}/auth/register`,\n        registerForm\n      );\n      if (response.data.success) {\n        localStorage.setItem(\n          LOCAL_STORAGE_TOKEN_NAME,\n          response.data.accessToken\n        );\n      }\n      await loadUser();\n\n      return response.data;\n    } catch (error) {\n      if (error.response.data) return error.response.data;\n      else return { message: error.message, success: false };\n    }\n  };\n  // uploadAvt\n  const updatedAvt = async (file, user) => {\n    try {\n      if (user.avt === \"avt-default.jpg\") {\n        const avtNew = await uploadFile(file);\n        const response = await axios.put(`${apiUrl}/auth/updateAvt`, {\n          avt: avtNew,\n        });\n        if (response.data.success) {\n          await loadUser();\n        }\n        return;\n      }\n      if (user.avt !== \"avt-default.jpg\") {\n        deleteFile(user.avt);\n        const avtNew = await uploadFile(file);\n        const response = await axios.put(`${apiUrl}/auth/updateAvt`, {\n          avt: avtNew,\n        });\n        if (response.data.success) {\n          await loadUser();\n        }\n        return;\n      }\n    } catch (error) {\n      return error;\n    }\n  };\n  //search user\n  const searchFullName = async (value) => {\n    try {\n      const res = await axios.post(`${apiUrl}/auth/search`, {\n        value,\n      });\n      return res.data;\n    } catch (error) {\n      return error;\n    }\n  };\n  //get user fr\n  const getUserFr = async (username) => {\n    try {\n      const res = await axios.get(`${apiUrl}/auth/${username}`);\n      return res.data;\n    } catch (error) {\n      return error;\n    }\n  };\n  // add friend\n  const addFriend = async (friendId) => {\n    try {\n      const res = await axios.post(`${apiUrl}/auth/addfriend`, { friendId });\n      if (res.data.success) {\n        dispatch({\n          type: SET_AUTH,\n          payload: { user: res.data.user, isAuthenticated: true },\n        });\n      }\n      return res.data;\n    } catch (error) {\n      return { success: false };\n    }\n  };\n  // delete friend\n  const deleteFriend = async (friendId) => {\n    try {\n      const res = await axios.post(`${apiUrl}/auth/deletefriend`, { friendId });\n      if (res.data.success) {\n        dispatch({\n          type: SET_AUTH,\n          payload: { user: res.data.user, isAuthenticated: true },\n        });\n      }\n      return res.data;\n    } catch (error) {\n      return { success: false };\n    }\n  };\n  // add follow\n  const addFollow = async (username) => {\n    await axios.post(`${apiUrl}/auth/addfollow`, { username });\n  };\n  const deleteFollow = async (username) => {\n    await axios.post(`${apiUrl}/auth/deletefollow`, { username });\n  };\n  const AuthContextData = {\n    authState,\n    login,\n    register,\n    logOut,\n    updatedAvt,\n    searchFullName,\n    getUserFr,\n    addFriend,\n    deleteFriend,\n    addFollow,\n    deleteFollow,\n  };\n  return (\n    <AuthContext.Provider value={AuthContextData}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\nexport default AuthContextProvider;\n","import { PostsContext } from \"./PostsContext\";\r\nimport { AuthContext } from \"./AuthContext\";\r\nimport { HomeContext } from \"./HomeContext\";\r\nimport { useContext } from \"react\";\r\n\r\nconst usePostsContext = () => {\r\n  return useContext(PostsContext);\r\n};\r\nconst useAuthContext = () => {\r\n  return useContext(AuthContext);\r\n};\r\nconst useHomeContext = () => {\r\n  return useContext(HomeContext);\r\n};\r\nexport { usePostsContext, useAuthContext, useHomeContext };\r\n","import { createContext, useState, useRef, useEffect } from \"react\";\nimport { io } from \"socket.io-client\";\nimport { useAuthContext } from \"contexts\";\n\nexport const HomeContext = createContext();\n\nconst HomeContextProvider = ({ children }) => {\n  const [active, setActive] = useState(\"\");\n  const [statusMess, setStatusMess] = useState(false);\n  const {\n    authState: { user },\n  } = useAuthContext();\n  const socket = useRef();\n  useEffect(() => {\n    socket.current = io(\"https://sang-instagram-socket.herokuapp.com/\");\n    socket.current.emit(\"addUser\", user?._id);\n    socket.current.on(\"arrivalMessage\", async () => {\n      // setStatusMess(true);\n      if (window.location.pathname !== \"/inbox\") {\n        alert(\"Có tin nhắn\");\n      }\n    });\n  }, [user]);\n\n  // useEffect(() => {\n  //   if (statusMess) {\n  //     alert(\"Có tin nhắn\");\n  //   }\n  // }, [statusMess]);\n  const HomeContextData = { active, setActive, socket };\n\n  return (\n    <HomeContext.Provider value={HomeContextData}>\n      {children}\n    </HomeContext.Provider>\n  );\n};\n\nexport default HomeContextProvider;\n","import \"./alert.css\";\n\nconst Alert = ({ info }) => {\n  return <h1 className=\"auth-alert\">{info}</h1>;\n};\n\nexport default Alert;\n","import \"./authForm.css\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useContext, useRef, useEffect } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport Alert from \"../alert/Alert\";\nconst Login = () => {\n  const { login } = useContext(AuthContext);\n  const [alert, setAlert] = useState(null);\n\n  const [value, setValue] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const myRef = useRef();\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (e.keyCode === 13) {\n        myRef.current.click();\n      }\n    };\n    document.addEventListener(\"keyup\", handleClick);\n    return () => {\n      document.removeEventListener(\"keyup\", handleClick);\n    };\n  }, []);\n  const { username, password } = value;\n  const handleChange = (e) => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleLogin = async (value) => {\n    const loginData = await login(value);\n    if (!loginData.success) {\n      setAlert(loginData.message);\n    }\n  };\n  return (\n    <>\n      <div className=\"wrap-form\">\n        <div className=\"auth-form\">\n          <div className=\"logo-form\"></div>\n          <input\n            type=\"text\"\n            name=\"username\"\n            className=\"input-form\"\n            placeholder=\"Tên tài khoản\"\n            onChange={handleChange}\n            value={username}\n          />\n          <input\n            type=\"password\"\n            className=\"input-form\"\n            name=\"password\"\n            placeholder=\"Mật khẩu\"\n            onChange={handleChange}\n            value={password}\n          />\n          <div>\n            {alert && <Alert info={alert} />}\n            {/* add class disabled to disabled */}\n            <button\n              className=\"form-button\"\n              ref={myRef}\n              onClick={() => handleLogin(value)}\n            >\n              Đăng nhập\n            </button>\n            <div className=\"wrap-switch\">\n              <p className=\"switch-text\">Bạn chưa có tài khoản ?</p>\n              <Link to=\"/register\" className=\"switch-link\">\n                Đăng kí\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","import \"../login/authForm.css\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useContext, useEffect, useRef } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport Alert from \"../alert/Alert\";\n\nconst Register = () => {\n  const myRef = useRef();\n  const { register } = useContext(AuthContext);\n  const [alert, setAlert] = useState(null);\n\n  const [value, setValue] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    fullName: \"\",\n  });\n  const { username, password, confirmPassword, fullName } = value;\n  const handleChange = (e) => {\n    setValue({\n      ...value,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleRegister = async (value) => {\n    const registerData = await register(value);\n    if (!registerData.success) {\n      setAlert(registerData.message);\n    }\n  };\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (e.keyCode === 13) {\n        myRef.current.click();\n      }\n    };\n    document.addEventListener(\"keyup\", handleClick);\n    return () => {\n      document.removeEventListener(\"keyup\", handleClick);\n    };\n  }, []);\n  return (\n    <div className=\"wrap-form\">\n      <div className=\"auth-form\">\n        <div className=\"logo-form\"></div>\n        <input\n          type=\"text\"\n          name=\"username\"\n          className=\"input-form\"\n          placeholder=\"Tên tài khoản\"\n          onChange={handleChange}\n          value={username}\n        />\n        <input\n          type=\"text\"\n          name=\"fullName\"\n          className=\"input-form\"\n          placeholder=\"Tên người dùng\"\n          onChange={handleChange}\n          value={fullName}\n        />\n        <input\n          type=\"password\"\n          className=\"input-form\"\n          name=\"password\"\n          placeholder=\"Mật khẩu\"\n          onChange={handleChange}\n          value={password}\n        />\n\n        <input\n          type=\"password\"\n          className=\"input-form\"\n          name=\"confirmPassword\"\n          placeholder=\"Nhập lại mật khẩu\"\n          onChange={handleChange}\n          value={confirmPassword}\n        />\n        <div>\n          {alert && <Alert info={alert} />}\n          {/* add class disabled to disabled */}\n          <button\n            ref={myRef}\n            className=\"form-button\"\n            onClick={() => handleRegister(value)}\n          >\n            Đăng kí\n          </button>\n          <div className=\"wrap-switch\">\n            <p className=\"switch-text\">Bạn đã có tài khoản ?</p>\n            <Link to=\"/login\" className=\"switch-link\">\n              Đăng nhập\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/842fe5699220.21a5f717.jpg\";","import \"./spinner.css\";\n\nconst Spinner = () => {\n  return <div className=\"spinner\"></div>;\n};\n\nexport default Spinner;\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport Login from \"../../components/login/Login\";\nimport Register from \"../../components/register/Register\";\nimport \"./auth.css\";\nimport img from \"../../assets/img/842fe5699220.jpg\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../components/spinner/Spinner\";\nconst Auth = ({ route }) => {\n  const {\n    authState: { isAuthenticated, authLoading },\n  } = useContext(AuthContext);\n\n  let container;\n\n  if (isAuthenticated) {\n    container = <Redirect to=\"/\" />;\n  } else {\n    container = (\n      <div className=\"container-auth\">\n        <div className=\"auth-img\">\n          <img src={img} alt=\"\" />\n        </div>\n        {route === \"login\" && <Login />}\n        {route === \"register\" && <Register />}\n      </div>\n    );\n  }\n  if (authLoading) {\n    return <Spinner />;\n  }\n  return container;\n};\n\nexport default Auth;\n","import React from \"react\";\nimport \"./searchHistory.css\";\nimport { Link } from \"react-router-dom\";\nimport { apiUrl } from \"../../contexts/constants\";\n\nconst SearchHistory = ({ user }) => {\n  let body;\n  if (user && user.length > 0) {\n    body = (\n      <ul className=\"list-user-search\">\n        {user.map((user) => (\n          <li key={user._id} className=\"list-user-item\">\n            <Link\n              to={`/profile/${user.username}`}\n              className=\"list-user-item-link\"\n            >\n              <img\n                className=\"list-user-item-img\"\n                src={`${apiUrl}/uploadfile/${user.avt}`}\n                alt=\"\"\n              />\n              <h1 className=\"list-user-item-name\">{user.fullName}</h1>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    );\n  } else {\n    body = (\n      <div className=\"header-search-history-content\">\n        <p className=\"header-search-history-text\">\n          Không có nội dung tìm kiếm mới đây\n        </p>\n      </div>\n    );\n  }\n  return (\n    <div className=\"header-search-history\">\n      <div className=\"header-search-history-tg\"></div>\n      <h1 className=\"header-search-history-title\">Gần đây</h1>\n      {body}\n    </div>\n  );\n};\n\nexport default SearchHistory;\n","import \"./notification.css\";\nimport { useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nconst Notification = () => {\n  const history = useHistory();\n  const myRef = useRef(null);\n  const handleBack = (e) => {\n    if (e.keyCode === 27) {\n      history.goBack();\n    }\n  };\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (myRef.current !== null) {\n        if (!myRef.current.contains(e.target)) {\n          history.goBack();\n        }\n      }\n    };\n\n    document.addEventListener(\"keyup\", handleBack);\n\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"keyup\", handleBack);\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n  return (\n    <div className=\"notification-header-wrap\">\n      <div className=\"notification-header\" ref={myRef}>\n        <h2 className=\"notification-title\">Tất cả thông báo</h2>\n        <ul className=\"notification-list\">\n          <li className=\"notification-item\">\n            <h1>(Chức năng đang phát triển. Xin cảm ơn)</h1>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\nimport \"./headerControl.css\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useContext, useState, useEffect, useRef } from \"react\";\nimport { HomeContext } from \"../../contexts/HomeContext\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport Notification from \"../notification/Notification\";\nimport { apiUrl } from \"contexts\";\n\nconst HeaderControl = () => {\n  let location = useLocation();\n  const { active } = useContext(HomeContext);\n  const [show, setShow] = useState(false);\n  const {\n    logOut,\n    authState: { user },\n  } = useContext(AuthContext);\n  const avtRef = useRef(null);\n  useEffect(() => {\n    const handleShow = (e) => {\n      if (e.keyCode === 27) {\n        setShow(false);\n      }\n    };\n    const handleClick = (e) => {\n      if (avtRef.current !== null) {\n        if (!avtRef.current.contains(e.target)) {\n          setShow(false);\n        }\n      }\n    };\n    document.addEventListener(\"keyup\", handleShow);\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"keyup\", handleShow);\n      document.addEventListener(\"click\", handleClick);\n    };\n  }, []);\n  return (\n    <div className=\"header-control\">\n      <ul className=\"control-list\">\n        <li className=\"control-item\">\n          <Link to=\"/\" className=\"control-item-link\">\n            {active === \"home\" ? (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M45.5 48H30.1c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2.1-4.6-4.6-4.6s-4.6 2.1-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.6-.6 2.1 0l21.5 21.5c.3.3.4.7.4 1.1v23.5c.1.8-.6 1.5-1.4 1.5z\"></path>\n              </svg>\n            ) : (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z\"></path>\n              </svg>\n            )}\n          </Link>\n        </li>\n        <li className=\"control-item\">\n          <Link to=\"/inbox\" className=\"control-item-link\">\n            {active === \"inbox\" ? (\n              <svg\n                aria-label=\"Messenger\"\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M10.2 29.8c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9L38 18.2c.7-1-.6-2.2-1.6-1.5L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.7 10.7zM24 1c13 0 23 9.5 23 22.3S37 45.6 24 45.6c-2.3 0-4.6-.3-6.7-.9-.4-.1-.8-.1-1.2.1l-4.6 2c-1.1.6-2.5-.3-2.5-1.6l-.1-4.1c0-.5-.2-1-.6-1.3C3.7 35.8 1 30 1 23.3 1 10.5 11 1 24 1z\"></path>\n              </svg>\n            ) : (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M36.2 16.7L29 22.2c-.5.4-1.2.4-1.7 0l-5.4-4c-1.6-1.2-3.9-.8-5 .9l-6.8 10.7c-.7 1 .6 2.2 1.6 1.5l7.3-5.5c.5-.4 1.2-.4 1.7 0l5.4 4c1.6 1.2 3.9.8 5-.9l6.8-10.7c.6-1.1-.7-2.2-1.7-1.5zM24 1C11 1 1 10.5 1 23.3 1 30 3.7 35.8 8.2 39.8c.4.3.6.8.6 1.3l.2 4.1c0 1 .9 1.8 1.8 1.8.2 0 .5 0 .7-.2l4.6-2c.2-.1.5-.2.7-.2.2 0 .3 0 .5.1 2.1.6 4.3.9 6.7.9 13 0 23-9.5 23-22.3S37 1 24 1zm0 41.6c-2 0-4-.3-5.9-.8-.4-.1-.8-.2-1.3-.2-.7 0-1.3.1-2 .4l-3 1.3V41c0-1.3-.6-2.5-1.6-3.4C6.2 34 4 28.9 4 23.3 4 12.3 12.6 4 24 4s20 8.3 20 19.3-8.6 19.3-20 19.3z\"></path>\n              </svg>\n            )}\n          </Link>\n        </li>\n        <li className=\"control-item\">\n          <Link\n            to={{\n              pathname: \"/create\",\n              state: { prevPathName1: location.pathname },\n            }}\n            className=\"control-item-link\"\n          >\n            {active === \"create\" ? (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M43.9 4c-2.5-2.4-5.5-4-12.2-4H16.2C9.6 0 6.6 1.6 4 4.1 1.6 6.6 0 9.6 0 16.2v15.5c0 6.6 1.6 9.7 4.1 12.2 2.5 2.4 5.5 4 12.2 4h15.5c6.6 0 9.7-1.6 12.2-4.1 2.4-2.5 4-5.5 4-12.2V16.2c0-6.6-1.6-9.6-4.1-12.2zm-7.6 21.5H25.5v10.8c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h10.8V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v10.8h10.8c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z\"></path>\n              </svg>\n            ) : (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M31.8 48H16.2c-6.6 0-9.6-1.6-12.1-4C1.6 41.4 0 38.4 0 31.8V16.2C0 9.6 1.6 6.6 4 4.1 6.6 1.6 9.6 0 16.2 0h15.6c6.6 0 9.6 1.6 12.1 4C46.4 6.6 48 9.6 48 16.2v15.6c0 6.6-1.6 9.6-4 12.1-2.6 2.5-5.6 4.1-12.2 4.1zM16.2 3C10 3 7.8 4.6 6.1 6.2 4.6 7.8 3 10 3 16.2v15.6c0 6.2 1.6 8.4 3.2 10.1 1.6 1.6 3.8 3.1 10 3.1h15.6c6.2 0 8.4-1.6 10.1-3.2 1.6-1.6 3.1-3.8 3.1-10V16.2c0-6.2-1.6-8.4-3.2-10.1C40.2 4.6 38 3 31.8 3H16.2z\"></path>\n                <path d=\"M36.3 25.5H11.7c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h24.6c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5z\"></path>\n                <path d=\"M24 37.8c-.8 0-1.5-.7-1.5-1.5V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v24.6c0 .8-.7 1.5-1.5 1.5z\"></path>\n              </svg>\n            )}\n          </Link>\n        </li>\n        <li className=\"control-item\">\n          <Link to=\"/explore\" className=\"control-item-link\">\n            {active === \"explore\" ? (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm12.2 13.8l-7 14.8c-.1.3-.4.6-.7.7l-14.8 7c-.2.1-.4.1-.6.1-.4 0-.8-.2-1.1-.4-.4-.4-.6-1.1-.3-1.7l7-14.8c.1-.3.4-.6.7-.7l14.8-7c.6-.3 1.3-.2 1.7.3.5.4.6 1.1.3 1.7zm-15 7.4l-5 10.5 10.5-5-5.5-5.5z\"></path>\n              </svg>\n            ) : (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z\"></path>\n              </svg>\n            )}\n          </Link>\n        </li>\n        <li className=\"control-item\">\n          <Link\n            to={{\n              pathname: \"/nofification\",\n              state: { prevPathName2: location.pathname },\n            }}\n            className=\"control-item-link\"\n          >\n            {active === \"nofification\" ? (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\n              </svg>\n            ) : (\n              <svg\n                color=\"#262626\"\n                fill=\"#262626\"\n                height=\"22\"\n                role=\"img\"\n                viewBox=\"0 0 48 48\"\n                width=\"22\"\n              >\n                <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\"></path>\n              </svg>\n            )}\n          </Link>\n          {active === \"nofification\" && <Notification />}\n        </li>\n        <li className=\"control-item\">\n          <div className=\"control-item-link\">\n            <img\n              onClick={() => {\n                setShow(!show);\n              }}\n              ref={avtRef}\n              src={`${apiUrl}/uploadfile/${user.avt}`}\n              alt=\"\"\n            />\n            {show && (\n              <ul className=\"control-avt-dropdown\">\n                <li className=\"control-avt-item\">\n                  <Link\n                    className=\"control-avt-item-link\"\n                    to={`/profile/${user.username}`}\n                  >\n                    <svg\n                      color=\"#262626\"\n                      fill=\"#262626\"\n                      height=\"16\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"16\"\n                    >\n                      <path d=\"M16 0C7.2 0 0 7.1 0 16c0 4.8 2.1 9.1 5.5 12l.3.3C8.5 30.6 12.1 32 16 32s7.5-1.4 10.2-3.7l.3-.3c3.4-3 5.5-7.2 5.5-12 0-8.9-7.2-16-16-16zm0 29c-2.8 0-5.3-.9-7.5-2.4.5-.9.9-1.3 1.4-1.8.7-.5 1.5-.8 2.4-.8h7.2c.9 0 1.7.3 2.4.8.5.4.9.8 1.4 1.8-2 1.5-4.5 2.4-7.3 2.4zm9.7-4.4c-.5-.9-1.1-1.5-1.9-2.1-1.2-.9-2.7-1.4-4.2-1.4h-7.2c-1.5 0-3 .5-4.2 1.4-.8.6-1.4 1.2-1.9 2.1C4.2 22.3 3 19.3 3 16 3 8.8 8.8 3 16 3s13 5.8 13 13c0 3.3-1.2 6.3-3.3 8.6zM16 5.7c-3.9 0-7 3.1-7 7s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 11c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z\"></path>\n                    </svg>\n                    <span className=\"control-avt-item-text\">Trang cá nhân</span>\n                  </Link>\n                </li>\n                <li className=\"control-avt-item\">\n                  <Link className=\"control-avt-item-link\" to=\"#\">\n                    <svg\n                      color=\"#262626\"\n                      fill=\"#262626\"\n                      height=\"16\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"16\"\n                    >\n                      <path d=\"M28.7 32c-.4 0-.8-.2-1.1-.4L16 19.9 4.4 31.6c-.4.4-1.1.6-1.6.3-.6-.2-.9-.8-.9-1.4v-29C1.8.7 2.5 0 3.3 0h25.4c.8 0 1.5.7 1.5 1.5v29c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM4.8 3v23.9l9.4-9.4c.9-.9 2.6-.9 3.5 0l9.4 9.4V3H4.8z\"></path>\n                    </svg>\n                    <span className=\"control-avt-item-text\">Đã lưu</span>\n                  </Link>\n                </li>\n                <li className=\"control-avt-item\">\n                  <Link className=\"control-avt-item-link\" to=\"#\">\n                    <svg\n                      color=\"#262626\"\n                      fill=\"#262626\"\n                      height=\"16\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"16\"\n                    >\n                      <path d=\"M31.2 13.4l-1.4-.7c-.1 0-.2-.1-.2-.2v-.2c-.3-1.1-.7-2.1-1.3-3.1v-.1l-.2-.1v-.3l.5-1.5c.2-.5 0-1.1-.4-1.5l-1.9-1.9c-.4-.4-1-.5-1.5-.4l-1.5.5H23l-.1-.1h-.1c-1-.5-2-1-3.1-1.3h-.2c-.1 0-.1-.1-.2-.2L18.6.9c-.2-.5-.7-.9-1.2-.9h-2.7c-.5 0-1 .3-1.3.8l-.7 1.4c0 .1-.1.2-.2.2h-.2c-1.1.3-2.1.7-3.1 1.3h-.1l-.1.2h-.3l-1.5-.5c-.5-.2-1.1 0-1.5.4L3.8 5.7c-.4.4-.5 1-.4 1.5l.5 1.5v.5c-.5 1-1 2-1.3 3.1v.2c0 .1-.1.1-.2.2l-1.4.7c-.6.2-1 .7-1 1.2v2.7c0 .5.3 1 .8 1.3l1.4.7c.1 0 .2.1.2.2v.2c.3 1.1.7 2.1 1.3 3.1v.1l.2.1v.3l-.5 1.5c-.2.5 0 1.1.4 1.5l1.9 1.9c.3.3.6.4 1 .4.2 0 .3 0 .5-.1l1.5-.5H9l.1.1h.1c1 .5 2 1 3.1 1.3h.2c.1 0 .1.1.2.2l.7 1.4c.2.5.7.8 1.3.8h2.7c.5 0 1-.3 1.3-.8l.7-1.4c0-.1.1-.2.2-.2h.2c1.1-.3 2.1-.7 3.1-1.3h.1l.1-.1h.3l1.5.5c.1 0 .3.1.5.1.4 0 .7-.1 1-.4l1.9-1.9c.4-.4.5-1 .4-1.5l-.5-1.5V23l.1-.1v-.1c.5-1 1-2 1.3-3.1v-.2c0-.1.1-.1.2-.2l1.4-.7c.5-.2.8-.7.8-1.3v-2.7c0-.5-.4-1-.8-1.2zM16 27.1c-6.1 0-11.1-5-11.1-11.1S9.9 4.9 16 4.9s11.1 5 11.1 11.1-5 11.1-11.1 11.1z\"></path>\n                    </svg>\n                    <span className=\"control-avt-item-text\">Cài đặt</span>{\" \"}\n                  </Link>\n                </li>\n                <li className=\"control-avt-item\">\n                  <Link className=\"control-avt-item-link\" to=\"#\">\n                    <svg\n                      color=\"#262626\"\n                      fill=\"#262626\"\n                      height=\"16\"\n                      viewBox=\"0 0 32 32\"\n                      width=\"16\"\n                    >\n                      <path d=\"M10.3 10.7c0-.8-.7-1.5-1.5-1.5H4.9C7.2 5.4 11.4 3 16 3c3.6 0 7 1.5 9.5 4.1.5.6 1.5.6 2.1.1.6-.6.6-1.5.1-2.1-3-3.2-7.3-5-11.7-5C10.7 0 6 2.5 3 6.7V3.5C3 2.7 2.3 2 1.5 2S0 2.7 0 3.5v7.2c0 .8.7 1.5 1.5 1.5h7.3c.8 0 1.5-.6 1.5-1.5zm20.2 9.1h-7.2c-.8 0-1.5.7-1.5 1.5s.7 1.5 1.5 1.5h3.8C24.8 26.6 20.6 29 16 29c-3.6 0-7-1.5-9.5-4.1-.5-.6-1.5-.6-2.1-.1-.6.6-.6 1.5-.1 2.1 3 3.2 7.3 5 11.7 5 5.3 0 10-2.5 13-6.7v3.2c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-7.2c0-.8-.7-1.4-1.5-1.4z\"></path>\n                    </svg>\n                    <span className=\"control-avt-item-text\">\n                      Chuyển tài khoản\n                    </span>\n                  </Link>\n                </li>\n                <hr style={{ borderColor: \"rgba(133,125,125,0.04)\" }} />\n                <li onClick={logOut} className=\"control-avt-item\">\n                  <span className=\"control-avt-item-text\">Đăng xuất</span>\n                </li>\n              </ul>\n            )}\n          </div>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default HeaderControl;\n","import \"./header.css\";\nimport logo from \"../../assets/img/735145cfe0a4.png\";\nimport { useState, useEffect, useRef, useContext } from \"react\";\nimport SearchHistory from \"../searchHistory/SearchHistory\";\nimport HeaderControl from \"../headerControl/HeaderControl\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\n\nconst Header = () => {\n  const [show, setShow] = useState(false);\n  const [search, setSearch] = useState();\n  const { searchFullName } = useContext(AuthContext);\n  const myRef = useRef(null);\n  useEffect(() => {\n    const handleClickOutSide = (e) => {\n      if (myRef.current !== null) {\n        if (!myRef.current.contains(e.target)) {\n          setShow(false);\n        }\n      }\n    };\n    document.addEventListener(\"click\", handleClickOutSide);\n    return () => document.removeEventListener(\"click\", handleClickOutSide);\n  });\n  const handleKeyUp = (e) => {\n    e.keyCode === 27 && setShow(false);\n  };\n\n  const handleSearch = async (e) => {\n    setShow(true);\n    if (e.target.value !== \"\") {\n      const res = await searchFullName(e.target.value);\n      if (res.success) {\n        setSearch(res.user);\n      }\n    } else {\n      setSearch(null);\n    }\n  };\n  return (\n    <div className=\"container-header\">\n      <div className=\"grid wide\">\n        <div className=\"row\">\n          <div className=\"col l12\">\n            <header className=\"header\">\n              <Link to=\"/\" className=\"header-logo\">\n                <img src={logo} alt=\"logo\" />\n              </Link>\n              <div\n                className=\"header-search\"\n                onClick={() => {\n                  setShow(true);\n                }}\n                onKeyUp={handleKeyUp}\n                ref={myRef}\n              >\n                <input\n                  type=\"text\"\n                  name=\"\"\n                  placeholder=\"Tìm kiếm\"\n                  className=\"header-search__input\"\n                  id=\"\"\n                  onChange={handleSearch}\n                />\n                {show && <SearchHistory user={search} />}\n              </div>\n              <HeaderControl />\n            </header>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGcAAAAdCAMAAACAJoJsAAACwVBMVEUAAAAjHyAjHyD///8zIiIjHyBAQEAkICErICsmJiYsISEmIiKAgIAjHyAnISEtLS0kHyIpKSkkICEkHyEkHyE5OTkkICEjHyAzMzMuIyMkJCQjICElHyImISEjICErKyskJCQoKCgkICEkICEkICElICAmHyNAIEAkICEkISEnJyczMzMmJiYkICFVVVUkICAlISEjICAjHyEjHyElICAjHyEjHyEjICEkICEkICAkICIrIiIkHyAkHyEjICAkICAjHyElISEkISElICArKysmICArKysjICEkHyAkHyAkICIkISEnIyMkICElISEkHyAjICEuLi4kHyAjHyAlICUkISEnIyMkICAkJCQjHyAjHyEpIyMkHyEkICIkICEjICEjICAmIiIjICEkICIjICAkICAkISEkICAlHyIkICEwIDAoIiIjICIkHyIkISEkICQmISEkHyEkICElICIjICEkISEkICAkICAkICAjICAjISElHyEjISEkHyAkHyQjISEkISEmICYjICEkICAkISEkICAkHyApIiIjICEkICAkISElICMkJCQjHyEkICAjICEjHyEkHyEjHyEnIiIkICAjICEkHyAkHyEjICAkISEjHyAkICAkICInJyckHyEkICEkISEjICAjICEkHyEjHyEjICMkHyEmJiYjICAmISEkHyEkICAjIyMkICQlISEkICEjIyMnISEkISEkICAkICAkJCQlICIoIiIkJCQjICAjICAjICMkISEnJyckJCQlISEkICIjIyMkICEjICIpISEjICEkIiIjICAmIiImHyIkICAjIyMkHyEjISEkHyEkHyEkISEjICAmICMjICIkHyAlHyUlICAkHyAkJCQjHyMlHyElICIjICAkICEkICEkHyAlICAkHyAoICgkICAjICEmHyMlIiIkICEkICAkHyQjHyAYxkEZAAAA6nRSTlMA/fwBD/4E+hgUF0MC7i4Rchn5nPsJ+OYKFjLgWi/pBioTucDydlEIyUYaBRuoA3d9l7zDZ8xz2tBHgR7NlN+GikVObxJfDMr03XlNO6E+xdIL1b0wXUK/FfWDLKuAsNHnNcJw751rf1K4ECaYalxANrOqYdmFj8eWrl6SdO0xbZUokZ5Vz+Ql4daNYCO0t5nL23s0h9jsrJ9W9r5xIZPqZLXwpMRQmiKtPevOJDiE8R0nY36vK1ktB7amSIwNDnV4M7KJH+hb9zxKxjqjbOPzVKdYkN4pN9QcQYtoV+K65W7cII6gSVOxPzlNBvrEAAAEaklEQVR4XrXNU5OeiQJF4fV+atq2EXd3bNu2PbE5sTO2bds+tm2sX3HqfFW5m75IJf3c7dq7agP0+GFBQS+6Ulfw02e4GfKqQ99oBl34gc7hJugxy98/oEl0Yb/WcxP0dCmzNJkuvKcDuHHN+c5mnibyLcJ35adl67nq/TmJ3Jg6O6FGs/gWkZBxGvoNN6a/V6CvZlH1nTwgdeqXxM2eeBLyRmcV6MnK481QOTEziwhxRatuT2cGQGb768RB+Kklb8ca3gXY9hBEUj4Cyl4jboEL4UlNpJ93f0Ryu8HPw0BpoBkAp/UMwJiQru5t56vAHY9rcGe0vIl0HUfrLa8BLdvVPldD90I4cB0bTEunLOSfNgL82XUwTRPZosnhGnP1CKQ+ryVhgAJtBcpyrV2zS/0vxG7TDZfUTEbqgrs12AQ9dfqU8ToBWvTKL9XhHFNLAY65A76nyazV+X9w8DD9PlSpXwPwlY4GntXnqDqsxbBTH4bPdS0Ny9zVd7muIJLmzDwO6Dlo0M3D1N4Vadl6H8DomfdnsVeTOapJL2RXDtPZwDgLIgCU6wwozPdJoE0roY+5SfCo9oO++Uk8ZkID6+OxMOQpmKGbh0677JomT+hIAPKWjKBRixilAxzCrboJyNEJdwA8rzF4SV8GBupFUmttBEbo6yQGT8By22G4LgKGuhc+1sE+tdi2gwkDtIlrxul8VukTCYPI0VdhU+7CoWYfgB4/VmCr7gR66SAe0n8AKbqTnm6jUN+Hx3Q+sMuVsFFd3bLGy/2rV+hvueaqJpGp47fD+5oIS/eGmzuNjmSuBsBRXQ8M01bSdQ8wSccUlu+HRP0CajQGnLUGMtQdDPdcaEu6zuWads2gQy2FezSZEUExnMl2Op8HRlNhiP4MaNNBlGkOkKljDoWOwzO6DubFd+8GroTRaiYdavFF/S4UEjdYx/KJZo+FZ3VQQ+cQgDfNn9NYrRlUnNYOCJfoWyTrLGCx3l67Gxgb9UOYookwWQfDc2o992moJS/qASpKiOtvEKNO5xHfDzjxo42/aoY3DSVMHa4pTJwWuBRS1HqadHkqSffrgmUVABPsAzv0J3CvpsHT6me8o7+AoZ5n7l3EzfQsPKgDgYEaDVIWJaT16pmgL3NEGz9MKL5kqHTy2T6/9p6MlSW68K0HanX1iwCcNzT1pUdynV521N/pByMOq2focdpG2G35kep9xP3RDTBJ64EVgaEL1Aeq+W8AOeohjh9WayJvq6eqTqklk7WDuIxlGp30oBo9RJv6l/HaCunHxkDRX3X83wCIJbgeYr02FwGc/PtnQOWnJ/Z90gwQ3rrnn0DrkodHVsAtt9ZFKBzV+0LWdt1CHGNHHUz5fzUwHVoe7V3Kvw7eGSYOit44v4i4bY5L5TpF+oZCjuK69Pv3x1ynpP7B1jRX0c0iL7iWWufQzRabA4FNdK//WB4hWd+he+12D6T4eIzuVeenMMR9dLMXX5nwQWbubUl0t+L3Xnnk6arrOPgfG95WRPTKWcwAAAAASUVORK5CYII=\"","import style from \"./PostLayoutItem.module.css\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { apiUrl } from \"contexts/constants\";\r\nimport clsx from \"clsx\";\r\nimport Spinner from \"components/spinner/Spinner\";\r\nimport { ModalPostDetail } from \"components\";\r\n\r\nconst PostLayoutItem = ({ data, index, last, them, toggleThem }) => {\r\n  const [body, setBody] = useState();\r\n  const [modal, setModal] = useState(false);\r\n  const handleClickPost = (dataPost) => {\r\n    setModal(dataPost);\r\n  };\r\n  useEffect(() => {\r\n    if (\r\n      (!last && index % 3 === 0) ||\r\n      (last && index % 3 === 0 && data.length === 3) ||\r\n      (!last && index === 0)\r\n    ) {\r\n      setBody(\r\n        <div className={clsx(style.root, { [style.reverse]: them.current })}>\r\n          <div className={style.img_1}>\r\n            <div\r\n              className={style.img_1_item}\r\n              style={{\r\n                backgroundImage: `url(${apiUrl}/uploadfile/${data[0].file})`,\r\n              }}\r\n              onClick={() => handleClickPost(data[0])}\r\n            ></div>\r\n          </div>\r\n          <div className={style.img_2_3}>\r\n            <div className={style.img_2}>\r\n              <div\r\n                className={style.img_2_item}\r\n                style={{\r\n                  backgroundImage: `url(${apiUrl}/uploadfile/${data[1].file})`,\r\n                }}\r\n                onClick={() => handleClickPost(data[1])}\r\n              ></div>\r\n            </div>\r\n            <div className={style.img_3}>\r\n              <div\r\n                className={style.img_3_item}\r\n                style={{\r\n                  backgroundImage: `url(${apiUrl}/uploadfile/${data[2].file})`,\r\n                }}\r\n                onClick={() => handleClickPost(data[2])}\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      toggleThem();\r\n    } else {\r\n      setBody(\r\n        <div className={style.root}>\r\n          {data.map((d, i) => (\r\n            <div key={i} className={style.post}>\r\n              <div\r\n                className={style.postImg}\r\n                style={{\r\n                  backgroundImage: `url(${apiUrl}/uploadfile/${d.file})`,\r\n                }}\r\n                onClick={() => handleClickPost(d)}\r\n              ></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  return body ? (\r\n    <>\r\n      {body}\r\n      {modal && <ModalPostDetail setModal={setModal} data={modal} />}\r\n    </>\r\n  ) : (\r\n    <Spinner />\r\n  );\r\n};\r\n\r\nexport default PostLayoutItem;\r\n","import { useEffect, useRef, useState, useContext } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport \"./modal.css\";\nimport { PostsContext } from \"../../contexts/PostsContext\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { usePostsContext } from \"contexts\";\nimport Page from \"../../view/page/Page\";\nimport Spinner from \"../spinner/Spinner\";\nimport { apiUrl } from \"../../contexts/constants\";\nimport { useAuthContext } from \"contexts\";\nimport style from \"./ModalCreateMessage.module.css\";\nimport style1 from \"./Modal.module.css\";\nimport { format } from \"timeago.js\";\n\nconst ModalCreatePost = () => {\n  // use hook\n  const location = useLocation();\n  const history = useHistory();\n  const myRef = useRef(null);\n  const preview = useRef(null);\n  const inputRef = useRef(null);\n  const bodyRef = useRef();\n  const [edit, setEdit] = useState(false);\n  const [alert, setAlert] = useState(false);\n  const [spinner, setSpinner] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const { addPost } = useContext(PostsContext);\n  const {\n    authState: { user },\n  } = useContext(AuthContext);\n  useEffect(() => {\n    const goBack = (e) => {\n      if (e.keyCode === 27) {\n        if (myRef.current !== null) {\n          myRef.current.click();\n        }\n      }\n    };\n    document.addEventListener(\"keyup\", goBack);\n    const handleChange = (e) => {\n      const file = e.target.files[0];\n      const avt = URL.createObjectURL(file);\n      preview.current.src = avt;\n      URL.revokeObjectURL(file);\n      setEdit(\"Tiếp\");\n    };\n    if (inputRef.current !== null) {\n      inputRef.current.addEventListener(\"change\", handleChange);\n    }\n    return () => {\n      document.removeEventListener(\"keyup\", goBack);\n    };\n  });\n  //callback\n  const handleAddText = async (e) => {\n    if (edit === \"Tiếp\") {\n      bodyRef.current.classList.add(\"add-edit\");\n      setEdit(\"Chia sẻ\");\n    }\n    if (edit === \"Chia sẻ\") {\n      const postForm = { file: inputRef.current.files[0], description };\n      setSpinner(true);\n      await addPost(postForm);\n      setSpinner(false);\n      history.push(\"/\");\n    }\n  };\n  const back = (e) => {\n    if (edit) {\n      setAlert(true);\n    } else {\n      e.stopPropagation();\n      history.goBack();\n    }\n  };\n  const handleCancel = (e) => {\n    e.stopPropagation();\n    history.goBack();\n  };\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  return (\n    <>\n      <Page\n        route=\"create\"\n        routePrev={\n          location.state.prevPathName1.length > 1\n            ? location.state.prevPathName1.slice(1)\n            : location.state.prevPathName1\n        }\n      />\n      <div className=\"modal\">\n        <div className=\"modal-overlay\" onClick={back}></div>\n        <div className=\"modal-body\" ref={bodyRef}>\n          {edit ? (\n            <div className=\"modal-body-heard-active\">\n              <div style={{ cursor: \"pointer\" }} onClick={() => setAlert(true)}>\n                <svg\n                  color=\"#262626\"\n                  fill=\"#262626\"\n                  height={24}\n                  viewBox=\"0 0 24 24\"\n                  width={24}\n                >\n                  <line\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeLinecap=\"round\"\n                    strokeMiterlimit={10}\n                    strokeWidth=\"1.5\"\n                    x1=\"1.23\"\n                    x2=\"23.233\"\n                    y1=\"12.004\"\n                    y2=\"12.004\"\n                  />\n                  <polyline\n                    fill=\"none\"\n                    points=\"8.919 3.817 0.733 12.004 8.919 20.19\"\n                    stroke=\"currentColor\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth=\"1.5\"\n                  />\n                </svg>\n              </div>\n              <span className=\"modal-body-heard-title\">Chỉnh sửa</span>\n              <span className=\"modal-body-heard-next\" onClick={handleAddText}>\n                {edit}\n              </span>\n            </div>\n          ) : (\n            <div className=\"modal-body-heard\">\n              <h1 className=\"modal-create-post-title\">Tạo bài viết mới</h1>\n              <hr\n                style={{\n                  borderColor: \"rgb(204 204 204 / 37%\",\n                  borderWidth: \"1px\",\n                }}\n              />\n            </div>\n          )}\n          <div className={`modal-body-content ${!edit ? \"active\" : \"\"}`}>\n            <svg\n              className=\"modal-create-post-img\"\n              color=\"#262626\"\n              fill=\"#262626\"\n              height={77}\n              viewBox=\"0 0 97.6 77.3\"\n              width={96}\n            >\n              <path d=\"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z\" />\n              <path d=\"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z\" />\n              <path d=\"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z\" />\n            </svg>\n            <label htmlFor=\"file-avt\" className=\"modal-create-post-button\">\n              Chọn từ máy tính\n            </label>\n            <input\n              type=\"file\"\n              id=\"file-avt\"\n              hidden\n              accept=\".png, .jpg, .gif\"\n              ref={inputRef}\n            />\n            <button className=\"modal-close\" ref={myRef} onClick={back}>\n              close\n            </button>\n          </div>\n          <div className=\"wrap-form-post\">\n            <div className={`img-preview ${edit ? \"active\" : \"\"}`}>\n              <img alt=\"avt\" src=\"\" ref={preview} />\n            </div>\n            <div className=\"form-post\">\n              <div className=\"user\">\n                <img\n                  src={`${apiUrl}/uploadfile/${user.avt}`}\n                  alt=\"\"\n                  className=\"user-img\"\n                />\n                <span className=\"user-name\">{user.fullName}</span>\n              </div>\n              <textarea\n                name=\"description\"\n                id=\"\"\n                className=\"form-text\"\n                placeholder=\"Bạn đang nghĩ gì...\"\n                rows=\"10\"\n                value={description}\n                spellCheck={false}\n                onChange={handleChangeDescription}\n              />\n            </div>\n            {spinner && <Spinner />}\n          </div>\n        </div>\n        {alert && (\n          <div className=\"modal children\">\n            <div className=\"modal-overlay\"></div>\n            <div className=\"modal-body\">\n              <div className=\"modal-body-cancel\">\n                <div className=\"modal-body-cancel-header\">\n                  <h1>Bỏ bài viết</h1>\n                  <span>Nếu rời đi, bạn sẽ mất những gì vừa chỉnh sửa.</span>\n                </div>\n                <button className=\"cancel\" onClick={handleCancel}>\n                  Bỏ\n                </button>\n                <button\n                  className=\"no-cancel\"\n                  onClick={() => {\n                    setAlert(false);\n                  }}\n                >\n                  Hủy\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst ModalMenuPost = ({ setActiveFalse, post }) => {\n  const {\n    authState: { user },\n  } = useAuthContext();\n\n  const { updatePost } = useContext(PostsContext);\n  const [update, setUpdate] = useState(false);\n  const [cancelUpdate, setCancelUpdate] = useState(false);\n  const [valueUpdate, setValueUpdate] = useState({\n    description: post.description,\n    file: null,\n  });\n  const [spinner, setSpinner] = useState(false);\n  const { description } = valueUpdate;\n  const refBody = useRef();\n  const imgRef = useRef();\n  const textRef = useRef();\n  const { postDelete } = useContext(PostsContext);\n  useEffect(() => {\n    const handleClick = (e) => {\n      if (refBody.current) {\n        if (refBody.current.contains(e.target)) {\n          if (!update) {\n            setActiveFalse();\n          }\n          if (update) {\n            setCancelUpdate(true);\n          }\n        }\n      }\n    };\n    if (valueUpdate && textRef.current) {\n      textRef.current.focus();\n    }\n    document.addEventListener(\"click\", handleClick);\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  });\n\n  const handleChange = (e) => {\n    if (e.target.name === \"file\") {\n      imgRef.current.src = URL.createObjectURL(e.target.files[0]);\n      URL.revokeObjectURL(e.target.files[0]);\n      setValueUpdate({ ...valueUpdate, [e.target.name]: e.target.files[0] });\n      return;\n    }\n    setValueUpdate({ ...valueUpdate, [e.target.name]: e.target.value });\n  };\n  const handleUpdate = async () => {\n    setSpinner(true);\n    await updatePost(post, valueUpdate);\n    setSpinner(false);\n    setActiveFalse();\n  };\n\n  const body = update ? (\n    <div className=\"update-post-container\">\n      <div className=\"update-post-header\">\n        <button\n          className=\"update-post-btn\"\n          onClick={() => setCancelUpdate(true)}\n        >\n          Hủy\n        </button>\n        <h1>Chỉnh sửa bài viết </h1>\n\n        <button className=\"update-post-btn\" onClick={handleUpdate}>\n          Xong\n        </button>\n      </div>\n      <textarea\n        type=\"text\"\n        value={description}\n        name=\"description\"\n        onChange={handleChange}\n        className=\"update-post-text\"\n        rows=\"4\"\n        spellCheck={false}\n        ref={textRef}\n      />\n      <div className=\"update-post-form\">\n        <img\n          className=\"update-post-img\"\n          src={`${apiUrl}/uploadFile/${post.file}`}\n          alt=\"\"\n          ref={imgRef}\n        />\n        <div className=\"update-post-label\">\n          <label className=\"update-post-change-img\" htmlFor=\"img-update\">\n            Thay đổi ảnh\n          </label>\n          <input\n            type=\"file\"\n            hidden\n            name=\"file\"\n            id=\"img-update\"\n            onChange={handleChange}\n          />\n        </div>\n      </div>\n      {spinner && <Spinner />}\n      {cancelUpdate && (\n        <div className=\"modal modal-post-children\">\n          <div className=\"modal-overlay\"></div>\n          <div className=\"modal-body\">\n            <div className=\"btn-cancel-edit\">\n              <h1 className=\"btn-cancel-title\">\n                Bạn chắc chắc muốn hủy bỏ chỉnh sửa\n              </h1>\n              <div className=\"displayFlex justifySpaceAround\">\n                <button\n                  className=\"btn-item o5active\"\n                  onClick={() => {\n                    setUpdate(false);\n                    setCancelUpdate(false);\n                  }}\n                >\n                  Đồng ý\n                </button>\n                <button\n                  className=\"btn-item o5active\"\n                  onClick={() => setCancelUpdate(false)}\n                >\n                  Hủy\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  ) : (\n    <>\n      <ul className=\"modal-menu-list\">\n        {user?._id === post.user?._id ? (\n          <li\n            className=\"modal-menu-item\"\n            onClick={() => {\n              postDelete(post);\n              setActiveFalse();\n            }}\n          >\n            Xóa bài viết\n          </li>\n        ) : (\n          <li className=\"modal-menu-item disabled\">\n            Xóa bài viết(Không phải chủ tus)\n          </li>\n        )}\n        {user?._id === post.user?._id ? (\n          <li className=\"modal-menu-item\" onClick={() => setUpdate(true)}>\n            Chỉnh sửa bài viết\n          </li>\n        ) : (\n          <li className=\"modal-menu-item disabled\">\n            Chỉnh sửa bài viết(Không phải chủ tus)\n          </li>\n        )}\n\n        <li className=\"modal-menu-item\" onClick={setActiveFalse}>\n          Hủy\n        </li>\n      </ul>\n    </>\n  );\n\n  return (\n    <div className=\"modal\">\n      <div className=\"modal-overlay\" ref={refBody}></div>\n      <div className=\"modal-body\">{body}</div>\n    </div>\n  );\n};\nconst ModalCreateMessage = ({\n  userId,\n  handleCreateMessage,\n  setModalCreate,\n}) => {\n  const [frs, setFrs] = useState(null);\n  const [value, setValue] = useState(\"\");\n  const { searchFullName } = useContext(AuthContext);\n  const handleChangeInput = async (e) => {\n    setValue(e.target.value);\n    if (e.target.value !== \"\") {\n      const res = await searchFullName(value);\n      if (res.success) {\n        const arrayFr = res.user.filter((u) => u._id !== userId);\n        setFrs(arrayFr);\n      }\n    } else {\n      setFrs(null);\n    }\n  };\n  return (\n    <div className=\"modal\">\n      <div className=\"modal-overlay\"></div>\n      <div className=\"modal-body\">\n        <div className={style.createMessages}>\n          <h2 className=\"create-message-title\">Tin nhắn mới</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Tìm kiếm bạn bè\"\n            className={style.inputText}\n            value={value}\n            onChange={handleChangeInput}\n          />\n          <div\n            onClick={() => setModalCreate(false)}\n            className={clsx(style.iconCloseCreateMessage, \"o5active\")}\n          >\n            <i className=\"far fa-times-circle\"></i>\n          </div>\n          {frs !== null && (\n            <ul className={style.listfr}>\n              {frs.map((f, i) => (\n                <li\n                  key={i}\n                  onClick={() => handleCreateMessage(f._id)}\n                  className={style.itemFr}\n                >\n                  <img\n                    src={`${apiUrl}/uploadFile/${f.avt}`}\n                    className={style.itemImg}\n                    alt=\"xxx\"\n                  />\n                  <h3 className={style.itemName}>{f.fullName}</h3>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ModalPostDetail = ({ data, setModal }) => {\n  const {\n    authState: { user },\n  } = useAuthContext();\n  const history = useHistory();\n  const { likePost, commentPost } = usePostsContext();\n  const [like, setLike] = useState({\n    status: data.likes.includes(user._id),\n    numberLike: data.likes.length,\n  });\n  const [comment, setComment] = useState(\"\");\n  const [comments, setComments] = useState(\n    data.comments.sort((b, a) => a.createdAt - b.createdAt)\n  );\n  const handleToProfile = () => {\n    history.push(`/profile/${data.user.username}`);\n  };\n  const handleLikePost = async () => {\n    const res = await likePost(data._id);\n    if (res.message === \"add\") {\n      setLike({ ...like, status: true, numberLike: like.numberLike + 1 });\n    }\n    if (res.message === \"delete\") {\n      setLike({ ...like, status: false, numberLike: like.numberLike - 1 });\n    }\n  };\n  const handleComment = async (e) => {\n    if (e.keyCode === 13) {\n      if (comment) {\n        const res = await commentPost({\n          postId: data._id,\n          userComment: {\n            fullName: data.user.fullName,\n            username: data.user.username,\n            avt: data.user.avt,\n            textCommnet: comment,\n            createdAt: Date.now(),\n          },\n        });\n        if (res.success) {\n          setComment(\"\");\n          setComments(res.comment.sort((b, a) => a.createdAt - b.createdAt));\n        }\n      }\n    }\n  };\n  const handleComment2 = async () => {\n    if (comment) {\n      const res = await commentPost({\n        postId: data._id,\n        userComment: {\n          fullName: data.user.fullName,\n          username: data.user.username,\n          avt: data.user.avt,\n          textCommnet: comment,\n          createdAt: Date.now(),\n        },\n      });\n      if (res.success) {\n        setComment(\"\");\n        setComments(res.comment.sort((b, a) => a.createdAt - b.createdAt));\n      }\n    }\n  };\n  console.log(comments);\n  return (\n    <>\n      <div className=\"modal\">\n        <div className=\"modal-overlay\"></div>\n        <div className=\"modal-body post-detail\">\n          <div className={style1.imgPost}>\n            <img src={`${apiUrl}/uploadFile/${data.file}`} alt=\"\" />\n          </div>\n          <div className={style1.infoPost}>\n            <div className={style1.infoUser}>\n              <img\n                src={`${apiUrl}/uploadFile/${data.user.avt}`}\n                alt=\"\"\n                onClick={handleToProfile}\n              />\n              <div>\n                <span className={style1.username} onClick={handleToProfile}>\n                  {data.user.fullName}\n                </span>\n                <div className={style1.timeUpload}>\n                  {format(data.createdAt)}\n                </div>\n              </div>\n            </div>\n            <div className={style1.contentPost}>{data.description}</div>\n            <div className={style1.boxStatus}>\n              <span className={style1.boxStatus1}>\n                {like.numberLike} lượt thích\n              </span>\n              <span className={style1.boxStatus2}>\n                {comments.length} bình luận\n              </span>\n            </div>\n            <div className={style1.formComment}>\n              <input\n                type=\"text\"\n                placeholder=\"Viết bình luận\"\n                value={comment}\n                onKeyUp={handleComment}\n                onChange={(e) => setComment(e.target.value)}\n              />\n            </div>\n            <div className={style1.boxButton}>\n              <button\n                className={clsx(style1.btnLike, {\n                  [style1.likeActive]: like.status,\n                })}\n                onClick={handleLikePost}\n              >\n                Thích\n              </button>\n              <button\n                className={style1.btnLike}\n                onClick={() => {\n                  handleComment2();\n                }}\n              >\n                Bình luận\n              </button>\n            </div>\n            <div className={style1.boxComment}>\n              {comments?.map((item, index) => (\n                <div key={index} className={style1.commentItem}>\n                  <div className={style1.avtUserComment}>\n                    <img src={`${apiUrl}/uploadFile/${item.avt}`} alt=\"\" />\n                  </div>\n                  <div className={style1.infoUserComment}>\n                    <span className={style1.nameUserComment}>\n                      {item.fullName}\n                    </span>\n                    <p className={style1.textComment}>{item.textCommnet}</p>\n                    <span className={style1.createAtCm}>\n                      {format(item.createdAt)}\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div\n            className={clsx(style1.iconCancel, \"o5active\")}\n            onClick={() => {\n              setModal(false);\n            }}\n          >\n            <i className=\"far fa-times-circle\"></i>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport { ModalCreatePost, ModalMenuPost, ModalCreateMessage, ModalPostDetail };\n","import style from \"./Explore.module.css\";\nimport { usePostsContext } from \"contexts\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { PostLayoutItem } from \"components\";\n\nconst Explore = () => {\n  const {\n    postState: { postsAll, postAllLoading },\n    getAllPosts,\n  } = usePostsContext();\n  const arr3 = useRef([]);\n  const [arrPosts, setArrPosts] = useState();\n  useEffect(() => {\n    if (postAllLoading) {\n      getAllPosts();\n    }\n  }, []);\n  const them = useRef(false);\n  const toggleThem = () => {\n    them.current = !them.current;\n  };\n  useEffect(() => {\n    const handleRenderPosts = () => {\n      if (postsAll.length !== 3) {\n        for (let i = 0; i < postsAll.length / 3 - 1; i++) {\n          arr3.current.push([\n            postsAll[(i + 1) * 3 - 3],\n            postsAll[(i + 1) * 3 - 2],\n            postsAll[(i + 1) * 3 - 1],\n          ]);\n        }\n      } else {\n        arr3.current.push([postsAll[0], postsAll[1], postsAll[2]]);\n      }\n      if (postsAll.length % 3 === 1) {\n        arr3.current.push([postsAll[postsAll.length - 1]]);\n      }\n      if (postsAll.length % 3 === 2) {\n        arr3.current.push([\n          postsAll[postsAll.length - 2],\n          postsAll[postsAll.length - 1],\n        ]);\n      }\n      setArrPosts(arr3.current);\n      arr3.current = [];\n    };\n    handleRenderPosts();\n  }, [postsAll]);\n  console.log(arrPosts);\n  return (\n    <>\n      <div className={style.root}>\n        <div className=\"grid wide\">\n          <div className=\"row\">\n            <div className=\"col l12\">\n              {arrPosts?.map((p, i) => {\n                return (\n                  <PostLayoutItem\n                    key={i}\n                    data={p}\n                    index={i}\n                    last={i === arrPosts.length - 1}\n                    them={them}\n                    toggleThem={toggleThem}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Explore;\n","import \"./postItem.css\";\nimport { apiUrl } from \"contexts/constants\";\nimport { useState, useContext } from \"react\";\nimport { ModalMenuPost } from \"../modals/Modal\";\nimport { PostsContext } from \"contexts/PostsContext\";\nimport { AuthContext } from \"contexts/AuthContext\";\nimport { format } from \"timeago.js\";\nimport { Link } from \"react-router-dom\";\nimport { usePostsContext } from \"contexts\";\n\nconst PostItem = ({ post }) => {\n  const {\n    authState: { user },\n  } = useContext(AuthContext);\n  const { commentPost } = usePostsContext();\n  const [active, setActive] = useState(false);\n  const [actionComment, setActionComment] = useState(false);\n  const [valueComment, setValueComment] = useState(\"\");\n  const [comments, setComments] = useState(\n    post.comments.sort((a, b) => b.createdAt - a.createdAt)\n  );\n  const [like, setLike] = useState({\n    numberLike: post.likes.length,\n    status: post.likes.includes(user._id),\n  });\n  const { likePost } = useContext(PostsContext);\n\n  const handleLikePost = async () => {\n    const res = await likePost(post._id);\n    if (res.message === \"add\") {\n      setLike({ ...like, status: true, numberLike: like.numberLike + 1 });\n    }\n    if (res.message === \"delete\") {\n      setLike({ ...like, status: false, numberLike: like.numberLike - 1 });\n    }\n  };\n  const handleComment = async (e) => {\n    if (e.keyCode === 13) {\n      if (valueComment) {\n        const res = await commentPost({\n          postId: post._id,\n          userComment: {\n            fullName: user.fullName,\n            username: user.username,\n            avt: user.avt,\n            textCommnet: valueComment,\n            createdAt: Date.now(),\n          },\n        });\n        if (res.success) {\n          setValueComment(\"\");\n          setComments(res.comment.sort((b, a) => a.createdAt - b.createdAt));\n          setActionComment(true);\n        }\n      }\n    }\n  };\n  return (\n    <div className=\"post-item\">\n      <div className=\"post-item-wrap-info-caption\">\n        <div className=\"post-item-user\">\n          <div className=\"post-item-user-body\">\n            <Link\n              className=\"post-item-user-link\"\n              to={`/profile/${post.user.username}`}\n            >\n              <img\n                src={`${apiUrl}/uploadfile/${post.user.avt}`}\n                alt=\"\"\n                className=\"post-item-user-avt\"\n              />\n            </Link>\n            <div className=\"post-item-user-info\">\n              <Link\n                className=\"post-item-user-link\"\n                to={`/profile/${post.user.username}`}\n              >\n                <span className=\"post-item-user-name\">\n                  {post.user.fullName}\n                </span>\n              </Link>\n              <span className=\"post-item-user-timeUpdatePost\">\n                {format(post.createdAt)}\n              </span>\n            </div>\n          </div>\n          <div className=\"post-item-icon-select\">\n            <svg\n              color=\"#262626\"\n              fill=\"#262626\"\n              height=\"24\"\n              role=\"img\"\n              viewBox=\"0 0 24 24\"\n              width=\"24\"\n              onClick={() => setActive(true)}\n            >\n              <circle cx=\"12\" cy=\"12\" r=\"1.5\"></circle>\n              <circle cx=\"6.5\" cy=\"12\" r=\"1.5\"></circle>\n              <circle cx=\"17.5\" cy=\"12\" r=\"1.5\"></circle>\n            </svg>\n            {active && (\n              <ModalMenuPost\n                setActiveFalse={() => setActive(false)}\n                post={post}\n              />\n            )}\n          </div>\n        </div>\n        <p className=\"post-item-caption\">{post.description}</p>\n      </div>\n\n      <img\n        alt=\"post-img\"\n        className=\"post-item-img\"\n        src={`${apiUrl}/uploadfile/${post.file}`}\n      ></img>\n      <div className=\"post-item-action\">\n        <div className=\"post-item-action-like\" onClick={handleLikePost}>\n          {like.status ? (\n            <svg\n              color=\"#ed4956\"\n              fill=\"#ed4956\"\n              height={26}\n              role=\"img\"\n              viewBox=\"0 0 48 48\"\n              width={26}\n            >\n              <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\" />\n            </svg>\n          ) : (\n            <svg\n              color=\"#262626\"\n              fill=\"#262626\"\n              height={26}\n              role=\"img\"\n              viewBox=\"0 0 48 48\"\n              width={26}\n            >\n              <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\" />\n            </svg>\n          )}\n        </div>\n        <div\n          className=\"post-item-action-comment\"\n          onClick={() => setActionComment(!actionComment)}\n        >\n          <svg\n            color=\"#262626\"\n            fill=\"#262626\"\n            height={24}\n            role=\"img\"\n            viewBox=\"0 0 48 48\"\n            width={24}\n          >\n            <path\n              clipRule=\"evenodd\"\n              d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\"\n              fillRule=\"evenodd\"\n            />\n          </svg>\n        </div>\n      </div>\n      <div className=\"post-number-like-comment\">\n        <h2 className=\"post-item-action-likeNumber\">\n          {like.numberLike} lượt thích\n        </h2>\n        <h2\n          className=\"post-item-action-cmtNumber o5active\"\n          onClick={() => setActionComment(!actionComment)}\n        >\n          {comments.length} bình luận\n        </h2>\n      </div>\n\n      <div className=\"form-comment\">\n        <input\n          type=\"text\"\n          className=\"form-input-comment\"\n          placeholder=\"Viết bình luận\"\n          value={valueComment}\n          onChange={(e) => setValueComment(e.target.value)}\n          onKeyUp={handleComment}\n        />\n        {actionComment && (\n          <ul className=\"list-comment\">\n            {comments.map((c, i) => (\n              <li key={i} className=\"item-comment\">\n                <div className=\"item-img-user-comment\">\n                  <Link\n                    className=\"item-name-user-link-info\"\n                    to={`/profile/${c.username}`}\n                  >\n                    <img src={`${apiUrl}/uploadfile/${c.avt}`} alt=\"\" />{\" \"}\n                  </Link>\n                </div>\n                <div className=\"item-info-user-commnet\">\n                  <Link\n                    className=\"item-name-user-link-info\"\n                    to={`/profile/${c.username}`}\n                  >\n                    <h3 className=\"item-name-user-comment\">{c.fullName}</h3>\n                  </Link>\n                  <p className=\"item-text-comment\">{c.textCommnet}</p>\n                  <span className=\"item-text-timeComment\">\n                    {format(c.createdAt)}\n                  </span>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PostItem;\n","import \"./home.css\";\nimport { useEffect } from \"react\";\nimport { usePostsContext } from \"contexts\";\nimport Spinner from \"../spinner/Spinner\";\nimport PostItem from \"../postItem/PostItem\";\n\nconst Home = () => {\n  const {\n    postState: { posts, postLoading },\n    getPosts,\n  } = usePostsContext();\n  useEffect(() => {\n    if (postLoading) {\n      getPosts();\n    }\n  }, []);\n  return postLoading ? (\n    <Spinner />\n  ) : posts.length === 0 ? (\n    <div className=\"home-introduction\">\n      Chào mừng các bạn. Hãy tạo bài viết đầu tiên\n    </div>\n  ) : (\n    <div className=\"home-container\">\n      <div className=\"grid wide\">\n        <div className=\"row\">\n          <div className=\"col l6 marginAuto\">\n            {posts.map((post, index) => (\n              <PostItem key={index} post={post} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import { useEffect, useState } from \"react\";\nimport \"./conversationsItem.css\";\nimport axios from \"axios\";\nimport { apiUrl } from \"../../contexts/constants\";\n\nconst ConversationsItem = ({ conversation, userId }) => {\n  const userFr = conversation.members.find((m) => m !== userId);\n  const [user, setUser] = useState();\n  useEffect(() => {\n    const getUser = async () => {\n      const res = await axios.get(`${apiUrl}/user?id=${userFr}`);\n      setUser(res.data.user);\n    };\n    getUser();\n  }, [userFr]);\n  return (\n    <li className={`conversations-item`}>\n      {user && (\n        <>\n          <img\n            src={user ? `${apiUrl}/uploadfile/${user?.avt}` : \"\"}\n            alt=\"\"\n            className=\"conversations-item-img\"\n          />\n          <div className=\"conversations-item-content\">\n            <div className=\"conversations-item-name\">{user?.fullName}</div>\n          </div>\n        </>\n      )}\n    </li>\n  );\n};\n\nexport default ConversationsItem;\n","import \"./messages.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport axios from \"axios\";\nimport { apiUrl } from \"../../contexts/constants\";\nconst Messages = ({ messages, test }) => {\n  const {\n    authState: { user },\n  } = useContext(AuthContext);\n  const [userFr, setUserFr] = useState();\n  useEffect(() => {\n    const getUser = async () => {\n      if (messages.senderId !== user._id) {\n        const user = await axios.get(`${apiUrl}/user?id=${messages.senderId}`);\n        if (user.data.success) {\n          setUserFr(user.data.user);\n        }\n      }\n    };\n    getUser();\n    if (test) {\n      const lastMessage =\n        document.querySelector(\n          \".chat-concent-messages-item-send.last-message\"\n        ) ||\n        document.querySelector(\".chat-concent-messages-item-get.last-message\");\n      lastMessage.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\",\n      });\n    }\n  }, [user._id, messages]);\n\n  return (\n    <>\n      {messages.senderId === user._id ? (\n        <div\n          className={`chat-concent-messages-item-send ${\n            test ? \"last-message\" : \"\"\n          }`}\n        >\n          <div className=\"chat-concent-messages-item-send-content\">\n            <div className=\"chat-concent-messages-item-img-wrap\">\n              <img\n                className=\"chat-concent-messages-item-img\"\n                src={`${apiUrl}/uploadfile/${user.avt}`}\n                alt=\"\"\n              />\n            </div>\n            <span className=\"chat-concent-messages-item-text\">\n              {messages.text}\n            </span>\n          </div>\n        </div>\n      ) : (\n        <div\n          className={`chat-concent-messages-item-get ${\n            test ? \"last-message\" : \"\"\n          }`}\n        >\n          <div className=\"chat-concent-messages-item-img-wrap\">\n            <img\n              className=\"chat-concent-messages-item-img\"\n              src={userFr && `${apiUrl}/uploadfile/${userFr?.avt}`}\n              alt=\"\"\n            />\n          </div>\n          <span className=\"chat-concent-messages-item-text\">\n            {messages.text}\n          </span>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Messages;\n","import \"./inbox.css\";\nimport { useRef, useEffect, useState, useContext } from \"react\";\nimport ConversationsItem from \"../conversationsItem/ConversationsItem\";\nimport Messages from \"../messages/Messages\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport axios from \"axios\";\nimport { apiUrl } from \"../../contexts/constants\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { io } from \"socket.io-client\";\n\nimport { ModalCreateMessage } from \"../modals/Modal\";\nimport { Link } from \"react-router-dom\";\nimport { useHomeContext } from \"contexts\";\n\nconst Inbox = ({ id }) => {\n  const conversationIdRef = useRef();\n  const chatConcentMessages = useRef();\n  const buttonRef = useRef();\n  const formMessagesInputRef = useRef();\n  const listFrInConversations = useRef([]);\n\n  //useContex\n  const {\n    authState: { user },\n  } = useContext(AuthContext);\n  const { socket } = useHomeContext();\n\n  //useState\n  const [conversations, setConversations] = useState(null);\n  const [currentChat, setCurrentChat] = useState([]);\n  const [infoFriend, setInfoFriend] = useState();\n  const [idConversationCurrent, setIdConversationCurrent] = useState();\n  const [message, setMessage] = useState();\n  const [arrivalMess, setArrivalMess] = useState();\n  const [conversationCurrent, setConversationCurrent] = useState();\n  const [modalCreate, setModalCreate] = useState(false);\n  const [actionConversation, setActionConversation] = useState(false);\n  const getConversations = async () => {\n    const res = await axios.get(\n      `${apiUrl}/messenger/conversations/${user._id}`\n    );\n    if (res.data.success) {\n      res.data.conversation.forEach((c) =>\n        listFrInConversations.current.push(\n          c.members[0] === user._id ? c.members[1] : c.members[0]\n        )\n      );\n    }\n    setConversations(res.data.conversation);\n  };\n  //useEffect\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user?._id);\n    socket.current.on(\"arrivalMessage\", async ({ messages }) => {\n      console.log(\"co chay k \");\n      setArrivalMess(messages);\n    });\n  }, []);\n  useEffect(() => {\n    if (arrivalMess) {\n      if (idConversationCurrent === arrivalMess.conversationId) {\n        setCurrentChat([...currentChat, arrivalMess]);\n      } else {\n        getConversations();\n      }\n    }\n  }, [arrivalMess]);\n\n  useEffect(() => {\n    getConversations();\n  }, [actionConversation]);\n\n  useEffect(() => {\n    if (id && conversations) {\n      handleCreateMessage(id);\n    }\n  }, [conversations]);\n\n  useEffect(() => {\n    const handleKeyUp = (e) => {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n        buttonRef.current.click();\n      }\n    };\n    const inputText = formMessagesInputRef.current;\n    inputText?.addEventListener(\"keydown\", handleKeyUp);\n    return () => {\n      inputText?.removeEventListener(\"keydown\", handleKeyUp);\n    };\n  }, [currentChat]);\n\n  // useEffect(() => {\n  //   socket.current.emit(\"addUser\", user._id);\n  // }, [conversationCurrent]);\n\n  // callback\n\n  const handleSendMessage = async () => {\n    const res = await axios.post(`${apiUrl}/messenger/messages`, {\n      senderId: user._id,\n      text: message,\n      conversationId: conversationIdRef.current,\n    });\n    await axios.post(`${apiUrl}/messenger/addnew`, {\n      conversationId: idConversationCurrent,\n      idNew: infoFriend._id,\n    });\n    await socket.current.emit(\"sendMessage\", {\n      recevierId: conversationCurrent.find((userId) => userId !== user._id),\n\n      messages: res.data.messages,\n    });\n\n    setCurrentChat([...currentChat, res.data.messages]);\n    setMessage(\"\");\n    formMessagesInputRef.current.focus();\n  };\n\n  const hanleClickConversation = async (conversation) => {\n    const res = await axios.get(\n      `${apiUrl}/messenger/messages/${conversation._id}`\n    );\n    if (conversation.new) {\n      await axios.delete(`${apiUrl}/messenger/removeNew/${conversation._id}`);\n      getConversations();\n    }\n\n    setConversationCurrent(conversation?.members);\n    setIdConversationCurrent(conversation._id);\n    conversationIdRef.current = conversation?._id;\n    const friendId = conversation?.members.find((m) => m !== user._id);\n    const friendInfo = await axios.get(`${apiUrl}/user/?id=${friendId}`);\n    setInfoFriend(friendInfo.data.user);\n    setCurrentChat(res.data.messages);\n  };\n\n  const handleChangeText = (e) => {\n    setMessage(e.target.value);\n  };\n\n  const handleCreateMessage = async (friendId) => {\n    if (listFrInConversations.current.includes(friendId)) {\n      setModalCreate(false);\n      const currentConversation = await conversations.find((c) =>\n        c.members.includes(friendId)\n      );\n      hanleClickConversation(currentConversation);\n    } else {\n      const res = await axios.post(`${apiUrl}/messenger/conversation/`, {\n        member1: friendId,\n        member2: user._id,\n        new: \"\",\n      });\n      if (res.data.success) {\n        setModalCreate(false);\n        listFrInConversations.current.push(\n          res.data.conversation.members[0] === user._id\n            ? res.data.conversation.members[1]\n            : res.data.conversation.members[0]\n        );\n        setConversations([...conversations, res.data.conversation]);\n        hanleClickConversation(res.data.conversation);\n      }\n    }\n  };\n  return (\n    <>\n      <div className=\"section-inbox-wrap\">\n        <div className=\"grid wide\">\n          <div className=\"row\">\n            <div className=\"col l12\">\n              <div className=\"section-inbox\">\n                <div className=\"conversations\">\n                  <div className=\"conversations-header\">\n                    <h2 className=\"conversations-header-text\">Tin nhắn</h2>\n                    <div\n                      className=\"conversations-header-icon o5active\"\n                      onClick={() => setModalCreate(true)}\n                    >\n                      <i className=\"fas fa-plus-circle\"></i>\n                    </div>\n                  </div>\n                  <ul className=\"conversations-list\">\n                    {conversations &&\n                      conversations.map((c, i) => (\n                        <div\n                          key={c._id}\n                          className={`conversations-item-wrap ${\n                            idConversationCurrent === c._id && \"active\"\n                          } ${user._id === c.new && \"newMess\"}`}\n                          onClick={() => hanleClickConversation(c)}\n                        >\n                          <ConversationsItem\n                            conversation={c}\n                            userId={user._id}\n                          />\n                          <span>Tin nhắn mới</span>\n                        </div>\n                      ))}\n                  </ul>\n                </div>\n                {conversationCurrent ? (\n                  <div className=\"chat-concent\">\n                    <div className=\"chat-content-user\">\n                      <Link\n                        to={`/profile/${infoFriend?.username}`}\n                        className=\"chat-content-link\"\n                      >\n                        <img\n                          className=\"chat-content-user-img\"\n                          src={\n                            infoFriend\n                              ? `${apiUrl}/uploadfile/${infoFriend.avt}`\n                              : \"\"\n                          }\n                          alt=\"\"\n                        />\n                        <span className=\"chat-content-user-name\">\n                          {infoFriend && infoFriend.fullName}\n                        </span>\n                      </Link>\n                    </div>\n                    <div\n                      className=\"chat-concent-messages\"\n                      ref={chatConcentMessages}\n                    >\n                      {currentChat?.map((m, i) =>\n                        i === currentChat.length - 1 ? (\n                          <Messages test={true} messages={m} key={i} />\n                        ) : (\n                          <Messages messages={m} key={i} />\n                        )\n                      )}\n                    </div>\n                    <div className=\"form-messages\">\n                      <TextareaAutosize\n                        type=\"text\"\n                        name=\"\"\n                        id=\"\"\n                        className=\"form-messages-input\"\n                        maxRows={3}\n                        minRows={2}\n                        ref={formMessagesInputRef}\n                        value={message}\n                        onChange={handleChangeText}\n                        spellCheck={false}\n                      />\n\n                      <button\n                        onClick={handleSendMessage}\n                        ref={buttonRef}\n                        className=\"form-messages-btn o5active\"\n                      >\n                        Send\n                      </button>\n                    </div>\n                  </div>\n                ) : (\n                  <>\n                    <div className=\"form-messages-no-messages\">\n                      <span className=\"form-messages-no-messages-icon\"></span>\n                      <h1\n                        className=\"form-messages-no-messages-title o5active\"\n                        onClick={() => setModalCreate(true)}\n                      >\n                        Tạo cuộc trò chuyện mới{\" \"}\n                      </h1>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {modalCreate && (\n        <ModalCreateMessage\n          handleCreateMessage={handleCreateMessage}\n          setModalCreate={setModalCreate}\n          userId={user._id}\n        />\n      )}\n    </>\n  );\n};\n\nexport default Inbox;\n","import { useEffect, useState } from \"react\";\nimport { apiUrl, useAuthContext } from \"contexts\";\n\nconst ItemImg = ({ position, data, setModal }) => {\n  const {\n    authState: { user },\n  } = useAuthContext();\n\n  useEffect(() => {\n    if (data) {\n      const imgItemElement = document.querySelectorAll(\".item-img\");\n      const activeUp = document.querySelector(\".item-img.activeUp\");\n      const prevUp = document.querySelector(\".item-img.prevUp\");\n      const nextUp = document.querySelector(\".item-img.nextUp\");\n      const nextOutUp = document.querySelector(\".item-img.nextOutUp\");\n      const prevOutUp = document.querySelector(\".item-img.prevOutUp\");\n      if (activeUp) {\n        activeUp.classList.remove(\"activeUp\");\n      }\n      if (prevUp) {\n        prevUp.classList.remove(\"prevUp\");\n      }\n      if (nextUp) {\n        nextUp.classList.remove(\"nextUp\");\n      }\n      if (nextOutUp) {\n        nextOutUp.classList.remove(\"nextOutUp\");\n      }\n\n      if (prevOutUp) {\n        prevOutUp.classList.remove(\"prevOutUp\");\n      }\n\n      if (position <= imgItemElement.length - 3 && position >= 2) {\n        imgItemElement[position - 2]?.classList.add(\"prevOutUp\");\n        imgItemElement[position - 1]?.classList.add(\"prevUp\");\n        imgItemElement[position]?.classList.add(\"activeUp\");\n        imgItemElement[position + 1]?.classList.add(\"nextUp\");\n        imgItemElement[position + 2]?.classList.add(\"nextOutUp\");\n      }\n      if (position === imgItemElement.length - 2) {\n        imgItemElement[position - 2]?.classList.add(\"prevOutUp\");\n        imgItemElement[position - 1]?.classList.add(\"prevUp\");\n        imgItemElement[position]?.classList.add(\"activeUp\");\n        imgItemElement[position + 1]?.classList.add(\"nextUp\");\n      }\n      if (position === imgItemElement.length - 1) {\n        imgItemElement[position - 2]?.classList.add(\"prevOutUp\");\n        imgItemElement[position - 1]?.classList.add(\"prevUp\");\n        imgItemElement[position]?.classList.add(\"activeUp\");\n      }\n\n      if (position === 0) {\n        imgItemElement[position]?.classList.add(\"activeUp\");\n        imgItemElement[position + 1]?.classList.add(\"nextUp\");\n        imgItemElement[position + 2]?.classList.add(\"nextOutUp\");\n      }\n      if (position === 1) {\n        imgItemElement[position - 1]?.classList.add(\"prevUp\");\n        imgItemElement[position]?.classList.add(\"activeUp\");\n        imgItemElement[position + 1]?.classList.add(\"nextUp\");\n        imgItemElement[position + 2]?.classList.add(\"nextOutUp\");\n      }\n    }\n  }, [position, data]);\n  return (\n    <>\n      {data?.map((item, index) => (\n        <li key={index} className=\"item-img\">\n          <img src={`${apiUrl}/uploadfile/${item.file}`} alt=\"...\" />\n          <div className=\"item-info-wrap\" onClick={() => setModal(item)}>\n            <div className=\"item-info-posts\">\n              <span className=\"item-info-like-number\">{item.likes.length}</span>\n              <span className=\"item-info-like-icon\">\n                {item.likes.includes(user._id) ? (\n                  <svg\n                    color=\"#ed4956\"\n                    fill=\"#ed4956\"\n                    height={26}\n                    role=\"img\"\n                    viewBox=\"0 0 48 48\"\n                    width={26}\n                  >\n                    <path d=\"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\" />\n                  </svg>\n                ) : (\n                  <svg\n                    color=\"#262626\"\n                    fill=\"#fff\"\n                    height={26}\n                    role=\"img\"\n                    viewBox=\"0 0 48 48\"\n                    width={26}\n                  >\n                    <path d=\"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z\" />\n                  </svg>\n                )}\n              </span>\n              <span className=\"item-info-comment-number\">\n                {item.comments.length}\n              </span>\n              <span className=\"item-info-comment-icon\">\n                <svg\n                  color=\"#262626\"\n                  fill=\"#fff\"\n                  height={24}\n                  role=\"img\"\n                  viewBox=\"0 0 48 48\"\n                  width={24}\n                >\n                  <path\n                    clipRule=\"evenodd\"\n                    d=\"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z\"\n                    fillRule=\"evenodd\"\n                  />\n                </svg>\n              </span>\n            </div>\n          </div>\n        </li>\n      ))}\n    </>\n  );\n};\n\nexport default ItemImg;\n","import \"./profile.css\";\nimport { useContext, useRef, useEffect, useState, memo } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { apiUrl } from \"../../contexts/constants\";\nimport ItemImg from \"../itemImg/ItemImg\";\nimport Spinner from \"../spinner/Spinner\";\nimport { useHistory } from \"react-router-dom\";\nimport { usePostsContext, RELOAD_POST } from \"contexts\";\nimport { ModalPostDetail } from \"components\";\n\nconst Profile = ({ username }) => {\n  const history = useHistory();\n  const {\n    authState: { user },\n    updatedAvt,\n    getUserFr,\n    addFriend,\n    deleteFriend,\n    addFollow,\n    deleteFollow,\n  } = useContext(AuthContext);\n  const { dispatch, getPostById } = usePostsContext();\n\n  const imgRef = useRef();\n  const inputRef = useRef();\n  const [userReplace, setUserReplace] = useState({\n    user,\n    profileLoading: false,\n    isFriend: false,\n    following: user.friends.length,\n    numberFollowers: user.followers.length,\n    posts: null,\n  });\n\n  const { profileLoading } = userReplace;\n  const handleAddFriend = async () => {\n    await addFollow(username);\n    addFriend(userReplace.user._id);\n    dispatch({ type: RELOAD_POST });\n  };\n  const handleDeleteFriend = async () => {\n    await deleteFollow(username);\n    deleteFriend(userReplace.user._id);\n    dispatch({ type: RELOAD_POST });\n  };\n  const handleMessage = () => {\n    history.push(`/inbox/${userReplace.user._id}`);\n  };\n  useEffect(() => {\n    const getUser = async () => {\n      if (user.username !== username) {\n        const res = await getUserFr(username);\n        const posts = await getPostById(res.user._id);\n        if (res.success) {\n          if (user.friends.includes(res.user._id)) {\n            setUserReplace({\n              ...userReplace,\n              user: res.user,\n              profileLoading: true,\n              isFriend: true,\n              following: res.user.friends.length,\n              numberFollowers: res.user.followers.length,\n              posts: posts.posts,\n            });\n          } else {\n            setUserReplace({\n              ...userReplace,\n              user: res.user,\n              profileLoading: true,\n              following: res.user.friends.length,\n              isFriend: false,\n              numberFollowers: res.user.followers.length,\n              posts: posts.posts,\n            });\n          }\n        }\n      } else {\n        const posts = await getPostById(user._id);\n        setUserReplace({\n          user: user,\n          profileLoading: true,\n          following: user.friends.length,\n          isFriend: false,\n          numberFollowers: user.followers.length,\n          posts: posts.posts,\n        });\n      }\n    };\n    getUser();\n    // eslint-disable-next-line\n  }, [getUserFr, username, user]);\n  const handlePreviewAvt = (e) => {\n    const file = e.target.files[0];\n    const img = URL.createObjectURL(file);\n    URL.revokeObjectURL(file);\n    imgRef.current.src = img;\n\n    setUploadAvt(true);\n  };\n  const [n, setN] = useState(0);\n  const [uploadAvt, setUploadAvt] = useState(false);\n  const handleIncrease = () => {\n    setN((prev) => {\n      if (prev === userReplace?.posts.length - 1) {\n        return prev;\n      }\n      return prev + 1;\n    });\n  };\n  const handleCountDown = () => {\n    setN((prev) => {\n      if (prev === 0) {\n        return prev;\n      }\n      return prev - 1;\n    });\n  };\n\n  const handleUploadAvt = async (e) => {\n    e.stopPropagation();\n    await updatedAvt(inputRef.current.files[0], user);\n    document.location.reload();\n  };\n  const [modal, setModal] = useState(false);\n\n  const body = (\n    <>\n      {modal && <ModalPostDetail setModal={setModal} data={modal} />}\n      <div className=\"profile-container\">\n        <div className=\"grid wide\">\n          <div className=\"row\">\n            <div className=\"col l8 lo2 d-flex\">\n              <label htmlFor=\"uploadAvt\" className=\"profile-img\">\n                <img\n                  src={`${apiUrl}/uploadfile/${userReplace.user.avt}`}\n                  alt=\"\"\n                  ref={imgRef}\n                />\n                {user.username === username && (\n                  <input\n                    type=\"file\"\n                    name=\"\"\n                    hidden\n                    id=\"uploadAvt\"\n                    onChange={handlePreviewAvt}\n                    ref={inputRef}\n                  />\n                )}\n\n                {uploadAvt && (\n                  <button\n                    onClick={handleUploadAvt}\n                    className=\"uploadAvt-btn o5active\"\n                  >\n                    Xong\n                  </button>\n                )}\n              </label>\n              <div className=\"profile-info\">\n                <div>\n                  <h1 className=\"profile-info-username\">\n                    {userReplace.user.username}\n                  </h1>\n                  <button className=\"btn-edit-profile\">\n                    {username === user.username ? (\n                      <span className=\"btn-edit-my-profile\">\n                        Chỉnh sửa trang cá nhân ( chức năng đang phát triển )\n                      </span>\n                    ) : userReplace.isFriend ? (\n                      <span\n                        onClick={handleDeleteFriend}\n                        className=\"btn-edit-fr-profile\"\n                      >\n                        Bỏ theo dõi\n                      </span>\n                    ) : (\n                      <span\n                        className=\"btn-edit-fr-profile\"\n                        onClick={handleAddFriend}\n                      >\n                        Theo dõi\n                      </span>\n                    )}\n                  </button>\n                  {user.username !== username && (\n                    <button\n                      className=\"btn-edit-profile-mesages\"\n                      onClick={handleMessage}\n                    >\n                      Nhắn tin\n                    </button>\n                  )}\n                </div>\n                <div>\n                  <span>{userReplace.posts?.length} bài viết</span>\n                  <span>{userReplace.numberFollowers} người theo dõi</span>\n                  <span>Đang theo dõi {userReplace.following} người dùng</span>\n                </div>\n                <h1 className=\"profile-info-fullName\">\n                  {userReplace.user.fullName}\n                </h1>\n              </div>\n            </div>\n          </div>\n          <div className=\"slide-img\">\n            <div className=\"row\">\n              <div className=\"col l8 lo2\">\n                {userReplace.posts && userReplace.posts.length > 0 ? (\n                  <ul className=\"list-img\">\n                    <ItemImg\n                      position={n}\n                      data={userReplace?.posts}\n                      setModal={setModal}\n                    />\n                    <button className=\"btn-next-slide\" onClick={handleIncrease}>\n                      <i className=\"fas fa-arrow-circle-right\"></i>\n                    </button>\n                    <button\n                      className=\"btn-prev-slide\"\n                      onClick={handleCountDown}\n                    >\n                      <i className=\"fas fa-arrow-circle-left\"></i>\n                    </button>\n                  </ul>\n                ) : (\n                  <h1 class=\"profile-title-noPosts\">\n                    Bạn chưa có bài viết nào\n                  </h1>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n  return profileLoading ? body : <Spinner />;\n};\n\nexport default memo(Profile);\n","import Header from \"../../components/header/Header\";\nimport Explore from \"../../components/explore/Explore\";\nimport Home from \"../../components/home/Home\";\nimport Inbox from \"../../components/inbox/Inbox\";\nimport Profile from \"../../components/profile/Profile\";\nimport { useContext, useEffect, useRef, memo } from \"react\";\nimport { HomeContext } from \"../../contexts/HomeContext\";\nimport { useLocation, useParams } from \"react-router-dom\";\nconst Page = ({ route, routePrev }) => {\n  const { setActive } = useContext(HomeContext);\n  const location = useLocation();\n  const checkNumber = useRef(0);\n  const checkLink = useRef(\"\");\n  checkNumber.current = checkNumber.current + 1;\n  const { user, id } = useParams();\n\n  let body;\n  useEffect(() => {\n    setActive(route);\n  });\n  if (location.state !== undefined) {\n    if (location.state.prevPathName2) {\n      if (checkNumber.current <= 2) {\n        checkLink.current = location.state.prevPathName2;\n        body = (\n          <>\n            <Header />\n            {location.state.prevPathName2 === \"/\" && <Home />}\n            {location.state.prevPathName2 === \"/inbox\" && <Inbox />}\n            {location.state.prevPathName2 === \"/explore\" && <Explore />}\n          </>\n        );\n      } else {\n        body = (\n          <>\n            <Header />\n\n            {(checkLink.current === \"/\" ||\n              checkLink.current === \"/nofification\") && <Home />}\n            {checkLink.current === \"/inbox\" && <Inbox />}\n            {checkLink.current === \"/explore\" && <Explore />}\n          </>\n        );\n      }\n    }\n  }\n  if (routePrev && typeof routePrev === \"string\") {\n    body = (\n      <>\n        <Header />\n        {routePrev === \"/\" && <Home />}\n        {routePrev === \"inbox\" && <Inbox />}\n        {routePrev === \"explore\" && <Explore />}\n      </>\n    );\n  }\n  if (!routePrev && !location.state) {\n    body = (\n      <>\n        <Header />\n        {route === \"home\" && <Home />}\n        {route === \"inbox\" && <Inbox id={id} />}\n        {route === \"explore\" && <Explore />}\n        {!route && <Profile username={user} />}\n      </>\n    );\n  }\n  return body;\n};\n\nexport default memo(Page);\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/AuthContext\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Spinner from \"../spinner/Spinner\";\n\nconst ProtectedRoute = ({ component: Component, route, ...rest }) => {\n  const {\n    authState: { isAuthenticated, authLoading },\n  } = useContext(AuthContext);\n\n  return (\n    <Route\n      {...rest}\n      render={() =>\n        isAuthenticated ? (\n          <Component route={route} />\n        ) : authLoading ? (\n          <Spinner />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport HomeContextProvider from \"./contexts/HomeContext\";\nimport AuthContextProvider from \"./contexts/AuthContext\";\nimport Auth from \"./view/auth/Auth\";\nimport Page from \"./view/page/Page\";\nimport ProtectedRoute from \"./components/routing/ProtectedRoute\";\nimport { ModalCreatePost } from \"./components/modals/Modal\";\nimport PostsContextProvider from \"./contexts/PostsContext\";\n\nfunction App() {\n  return (\n    <AuthContextProvider>\n      <PostsContextProvider>\n        <Router>\n          <Switch>\n            <Route exact path=\"/login\" render={() => <Auth route=\"login\" />} />\n            <Route\n              exact\n              path=\"/register\"\n              render={() => <Auth route=\"register\" />}\n            />\n            <HomeContextProvider>\n              <ProtectedRoute exact path=\"/\" route=\"home\" component={Page} />\n              <ProtectedRoute\n                exact\n                path=\"/inbox\"\n                route=\"inbox\"\n                component={Page}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/inbox/:id\"\n                route=\"inbox\"\n                component={Page}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/explore\"\n                route=\"explore\"\n                component={Page}\n              />\n              <ProtectedRoute exact path=\"/profile/:user\" component={Page} />\n              <ProtectedRoute\n                exact\n                path=\"/create\"\n                component={ModalCreatePost}\n              />\n              <ProtectedRoute\n                exact\n                path=\"/nofification\"\n                route=\"nofification\"\n                component={Page}\n              />\n            </HomeContextProvider>\n          </Switch>\n        </Router>\n      </PostsContextProvider>\n    </AuthContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./assets/css/grid.css\";\nimport \"./assets/css/fontawesome-free-5.15.4-web/css/all.min.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"PostLayoutItem_post__EmG50\",\"postImg\":\"PostLayoutItem_postImg__20twt\",\"img_2_item\":\"PostLayoutItem_img_2_item__2WmVb\",\"img_3_item\":\"PostLayoutItem_img_3_item__3zRFP\",\"img_1_item\":\"PostLayoutItem_img_1_item__2OABO\",\"root\":\"PostLayoutItem_root__mBl90\",\"img_1\":\"PostLayoutItem_img_1__IsmTt\",\"img_2_3\":\"PostLayoutItem_img_2_3__2ThQH\",\"img_2\":\"PostLayoutItem_img_2__S2a0Z\",\"img_3\":\"PostLayoutItem_img_3__1NOT8\",\"reverse\":\"PostLayoutItem_reverse__2S4R9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputText\":\"ModalCreateMessage_inputText__3ncV0\",\"createMessages\":\"ModalCreateMessage_createMessages__3VKmB\",\"iconCloseCreateMessage\":\"ModalCreateMessage_iconCloseCreateMessage__1csM4\",\"listfr\":\"ModalCreateMessage_listfr__xGyD0\",\"itemFr\":\"ModalCreateMessage_itemFr__1WiNh\",\"itemImg\":\"ModalCreateMessage_itemImg__efCsW\",\"itemName\":\"ModalCreateMessage_itemName__3gJEu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgPost\":\"Modal_imgPost__3zZor\",\"infoPost\":\"Modal_infoPost__3vMxe\",\"infoUser\":\"Modal_infoUser___-ey7\",\"username\":\"Modal_username__3q0Um\",\"timeUpload\":\"Modal_timeUpload__3KkPt\",\"contentPost\":\"Modal_contentPost__pii7j\",\"boxButton\":\"Modal_boxButton__2P3mr\",\"btnLike\":\"Modal_btnLike__QjBQK\",\"boxStatus\":\"Modal_boxStatus__My9-L\",\"boxStatus1\":\"Modal_boxStatus1__1NzN1\",\"boxStatus2\":\"Modal_boxStatus2__3Y-qg\",\"likeActive\":\"Modal_likeActive__1f7pz\",\"iconCancel\":\"Modal_iconCancel__1C4pb\",\"formComment\":\"Modal_formComment__101ZZ\",\"boxComment\":\"Modal_boxComment__1jys3\",\"commentItem\":\"Modal_commentItem__26Km2\",\"avtUserComment\":\"Modal_avtUserComment__1wT8D\",\"infoUserComment\":\"Modal_infoUserComment__1mIOa\",\"nameUserComment\":\"Modal_nameUserComment__E-bHI\",\"textComment\":\"Modal_textComment__3jPF5\",\"createAtCm\":\"Modal_createAtCm__UlvVm\"};"],"sourceRoot":""}